/*
 MIT License, http://www.opensource.org/licenses/MIT
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,f,l){c!=Array.prototype&&c!=Object.prototype&&(c[f]=l.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var c=0;return function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+c++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var f=0;return $jscomp.iteratorPrototype(function(){return f<c.length?{done:!1,value:c[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,f){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var l=0,t={next:function(){if(l<c.length){var k=l++;return{value:f(k,c[k]),done:!1}}t.next=function(){return{done:!0,value:void 0}};return t.next()}};t[Symbol.iterator]=function(){return t};return t};
$jscomp.polyfill=function(c,f,l,t){if(f){l=$jscomp.global;c=c.split(".");for(t=0;t<c.length-1;t++){var k=c[t];k in l||(l[k]={});l=l[k]}c=c[c.length-1];t=l[c];f=f(t);f!=t&&null!=f&&$jscomp.defineProperty(l,c,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");$jscomp.owns=function(c,f){return Object.prototype.hasOwnProperty.call(c,f)};
$jscomp.polyfill("Object.assign",function(c){return c?c:function(c,l){for(var f=1;f<arguments.length;f++){var k=arguments[f];if(k)for(var T in k)$jscomp.owns(k,T)&&(c[T]=k[T])}return c}},"es6","es3");$jscomp.findInternal=function(c,f,l){c instanceof String&&(c=String(c));for(var t=c.length,k=0;k<t;k++){var T=c[k];if(f.call(l,T,k,c))return{i:k,v:T}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,l){return $jscomp.findInternal(this,c,l).v}},"es6","es3");
$jscomp.polyfill("Object.is",function(c){return c?c:function(c,l){return c===l?0!==c||1/c===1/l:c!==c&&l!==l}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(c){return c?c:function(c,l){var f=this;f instanceof String&&(f=String(f));var k=f.length;for(l=l||0;l<k;l++)if(f[l]==c||Object.is(f[l],c))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(c,f,l){if(null==c)throw new TypeError("The 'this' value for String.prototype."+l+" must not be null or undefined");if(f instanceof RegExp)throw new TypeError("First argument to String.prototype."+l+" must not be a regular expression");return c+""};$jscomp.polyfill("String.prototype.includes",function(c){return c?c:function(c,l){return-1!==$jscomp.checkStringArgs(this,c,"includes").indexOf(c,l||0)}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c,l){return l})}},"es6","es3");$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();var f=c[Symbol.iterator];return f?f.call(c):$jscomp.arrayIterator(c)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(c){function f(){this.batch_=null}function l(c){return c instanceof k?c:new k(function(Ga,f){Ga(c)})}if(c&&!$jscomp.FORCE_POLYFILL_PROMISE)return c;f.prototype.asyncExecute=function(c){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(c);return this};f.prototype.asyncExecuteBatch_=function(){var c=this;this.asyncExecuteFunction(function(){c.executeBatch_()})};var t=$jscomp.global.setTimeout;f.prototype.asyncExecuteFunction=function(c){t(c,
0)};f.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var c=this.batch_;this.batch_=[];for(var f=0;f<c.length;++f){var k=c[f];delete c[f];try{k()}catch(H){this.asyncThrow_(H)}}}this.batch_=null};f.prototype.asyncThrow_=function(c){this.asyncExecuteFunction(function(){throw c;})};var k=function(c){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var f=this.createResolveAndReject_();try{c(f.resolve,f.reject)}catch(Y){f.reject(Y)}};k.prototype.createResolveAndReject_=
function(){function c(c){return function(l){k||(k=!0,c.call(f,l))}}var f=this,k=!1;return{resolve:c(this.resolveTo_),reject:c(this.reject_)}};k.prototype.resolveTo_=function(c){if(c===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof k)this.settleSameAsPromise_(c);else{a:switch(typeof c){case "object":var f=null!=c;break a;case "function":f=!0;break a;default:f=!1}f?this.resolveToNonPromiseObj_(c):this.fulfill_(c)}};k.prototype.resolveToNonPromiseObj_=function(c){var f=
void 0;try{f=c.then}catch(Y){this.reject_(Y);return}"function"==typeof f?this.settleSameAsThenable_(f,c):this.fulfill_(c)};k.prototype.reject_=function(c){this.settle_(2,c)};k.prototype.fulfill_=function(c){this.settle_(1,c)};k.prototype.settle_=function(c,f){if(0!=this.state_)throw Error("Cannot settle("+c+", "+f|"): Promise already settled in state"+this.state_);this.state_=c;this.result_=f;this.executeOnSettledCallbacks_()};k.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var c=
this.onSettledCallbacks_,f=0;f<c.length;++f)c[f].call(),c[f]=null;this.onSettledCallbacks_=null}};var T=new f;k.prototype.settleSameAsPromise_=function(c){var f=this.createResolveAndReject_();c.callWhenSettled_(f.resolve,f.reject)};k.prototype.settleSameAsThenable_=function(c,f){var k=this.createResolveAndReject_();try{c.call(f,k.resolve,k.reject)}catch(H){k.reject(H)}};k.prototype.then=function(c,f){function l(c,f){return"function"==typeof c?function(f){try{H(c(f))}catch(Ia){w(Ia)}}:f}var H,w,t=
new k(function(c,f){H=c;w=f});this.callWhenSettled_(l(c,H),l(f,w));return t};k.prototype.catch=function(c){return this.then(void 0,c)};k.prototype.callWhenSettled_=function(c,f){function k(){switch(l.state_){case 1:c(l.result_);break;case 2:f(l.result_);break;default:throw Error("Unexpected state: "+l.state_);}}var l=this;null==this.onSettledCallbacks_?T.asyncExecute(k):this.onSettledCallbacks_.push(function(){T.asyncExecute(k)})};k.resolve=l;k.reject=function(c){return new k(function(f,k){k(c)})};
k.race=function(c){return new k(function(f,k){for(var t=$jscomp.makeIterator(c),w=t.next();!w.done;w=t.next())l(w.value).callWhenSettled_(f,k)})};k.all=function(c){var f=$jscomp.makeIterator(c),t=f.next();return t.done?l([]):new k(function(c,k){function w(f){return function(k){F[f]=k;H--;0==H&&c(F)}}var F=[],H=0;do F.push(void 0),H++,l(t.value).callWhenSettled_(w(F.length-1),k),t=f.next();while(!t.done)})};return k},"es6","es3");
$jscomp.underscoreProtoCanBeSet=function(){var c={a:!0},f={};try{return f.__proto__=c,f.a}catch(l){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(c,f){c.__proto__=f;if(c.__proto__!==f)throw new TypeError(c+" is not extensible");return c}:null;$jscomp.polyfill("Object.setPrototypeOf",function(c){return c||$jscomp.setPrototypeOf},"es6","es5");
!function(c,f){"object"==typeof exports&&"undefined"!=typeof module?f(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],f):f(c["@uirouter/angularjs"]={},c.angular)}(this,function(c,f){function l(b){var a=[].slice.apply(arguments,[1]),d=b.length;return function h(a){return a.length>=d?b.apply(null,a):function(){return h(a.concat([].slice.apply(arguments)))}}(a)}function t(){var b=arguments,a=b.length-1;return function(){for(var d=a,e=b[a].apply(this,arguments);d--;)e=
b[d].call(this,e);return e}}function k(){for(var b=0;b<arguments.length;b++);return t.apply(null,[].slice.call(arguments).reverse())}function T(b,a){return function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return b.apply(null,d)&&a.apply(null,d)}}function Ga(b,a){return function(){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return b.apply(null,d)||a.apply(null,d)}}function Ha(b,a){return function(d){return d[b].apply(d,a)}}function Y(b){return function(a){for(var d=
0;d<b.length;d++)if(b[d][0](a))return b[d][1](a)}}function H(b){if(v(b)&&b.length){var a=b.slice(0,-1);b=b.slice(-1);return!(a.filter(ca(r)).length||b.filter(ca(u)).length)}return u(b)}function w(b){return b}function R(){}function F(b,a,d,e,g){void 0===g&&(g=!1);var h=function(a){return b()[a].bind(d())};return(e=e||Object.keys(b())).reduce(function(d,b){return d[b]=g?function(){return a[b]=h(b),a[b].apply(null,arguments)}:h(b),d},a)}function Db(b,a){return-1!==b.indexOf(a)}function Eb(b,a){a=b.indexOf(a);
return 0<=a&&b.splice(a,1),b}function Ia(b,a){return b.push(a),a}function da(b){for(var a=[],d=1;d<arguments.length;d++)a[d-1]=arguments[d];a=a.concat({}).reverse();a=m.apply(null,a);return m({},a,wa(b||{},Object.keys(a)))}function Fb(b,a){var d=[],e;for(e in b.path){if(b.path[e]!==a.path[e])break;d.push(b.path[e])}return d}function wa(b,a){var d={},e;for(e in b)-1!==a.indexOf(e)&&(d[e]=b[e]);return d}function xa(b,a){return Object.keys(b).filter(ca(U(a))).reduce(function(a,e){return a[e]=b[e],a},
{})}function Ac(b,a){return S(b,x(a))}function Ja(b,a){var d=v(b),e=d?[]:{},g=d?function(a){return e.push(a)}:function(a,d){return e[d]=a};return ja(b,function(d,b){a(d,b)&&g(d,b)}),e}function ea(b,a){var d;return ja(b,function(b,g){d||a(b,g)&&(d=b)}),d}function S(b,a,d){return d=d||(v(b)?[]:{}),ja(b,function(b,g){return d[g]=a(b,g)}),d}function Ka(b,a){return b.push(a),b}function na(b,a){return void 0===a&&(a="assert failure"),function(d){var e=b(d);if(!e)throw Error(u(a)?a(d):a);return e}}function oa(){for(var b=
[],a=0;a<arguments.length;a++)b[a]=arguments[a];if(0===b.length)return[];a=b.reduce(function(a,d){return Math.min(d.length,a)},9007199254740991);for(var d=[],e=function(a){switch(b.length){case 1:d.push([b[0][a]]);break;case 2:d.push([b[0][a],b[1][a]]);break;case 3:d.push([b[0][a],b[1][a],b[2][a]]);break;case 4:d.push([b[0][a],b[1][a],b[2][a],b[3][a]]);break;default:d.push(b.map(function(d){return d[a]}))}},g=0;g<a;g++)e(g);return d}function ya(b,a){var d,e;if(v(a)&&(d=a[0],e=a[1]),!r(d))throw Error("invalid parameters to applyPairs");
return b[d]=e,b}function L(b){return b.length&&b[b.length-1]||void 0}function Gb(b,a){return a&&Object.keys(a).forEach(function(d){return delete a[d]}),a||(a={}),m(a,b)}function Hb(b){for(var a=1;a<arguments.length;a++){var d=arguments[a];if(d)for(var e=Object.keys(d),g=0;g<e.length;g++)b[e[g]]=d[e[g]]}return b}function Ib(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!=b&&a!=a)return!0;var d=typeof b;if(d!==typeof a||"object"!==d)return!1;var e=[b,a];if(za(v)(e))return b.length===a.length&&
oa(b,a).reduce(function(a,d){return a&&Ib(d[0],d[1])},!0);if(za(Za)(e))return b.getTime()===a.getTime();if(za($a)(e))return b.toString()===a.toString();if(za(u)(e))return!0;if([u,v,Za,$a].map(Jb).reduce(function(a,d){return a||!!d(e)},!1))return!1;d={};for(var g in b){if(!Ib(b[g],a[g]))return!1;d[g]=!0}for(g in a)if(!d[g])return!1;return!0}function Bc(b){return b?"[ui-view#"+b.id+" "+b.$type+":"+b.fqn+" ("+b.name+"@"+(b.creationContext?b.creationContext.name||"(root)":"(none)")+")]":"ui-view (defunct)"}
function Cc(b){return Kb(b)?c.Category[b]:c.Category[c.Category[b]]}function La(b,a){var d=r(a)?[a]:a;return!!(u(d)?d:function(a){for(var b=0;b<d.length;b++){var e=new Ma(d[b]);if(e&&e.matches(a.name)||!e&&d[b]===a.name)return!0}return!1})(b)}function ab(b,a,d){function e(b,e,c){void 0===c&&(c={});b=new Lb(a,d,e,b,h,c);return g.push(b),b.deregister.bind(b)}var g=(b._registeredHooks=b._registeredHooks||{})[d.name]=[],h=P(g);return b[d.name]=e,e}function sa(b,a){return a.length<=b?a:a.substr(0,b-3)+
"..."}function Mb(b,a){for(;a.length<b;)a+=" ";return a}function bb(b){return b.replace(/^([A-Z])/,function(a){return a.toLowerCase()}).replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function cb(b){var a=db(b),d=a.match(/^(function [^ ]+\([^)]*\))/);a=d?d[1]:a;return(b=b.name||"")&&a.match(/function \(/)?"function "+b+a.substr(9):a}function db(b){return(b=v(b)?b.slice(-1)[0]:b)&&b.toString()||"undefined"}function M(b){var a=[];return JSON.stringify(b,function(d,b){a:{if(O(b)){if(-1!==
a.indexOf(b)){d="[circular ref]";break a}a.push(b)}d=sd(b)}return d}).replace(/\\"/g,'"')}function Nb(b){var a=new RegExp("("+b+")","g");return function(d){return d.split(a).filter(w)}}function Ob(b,a){return r(L(b))&&r(a)?b.slice(0,-1).concat(L(b)+a):Ka(b,a)}function td(b){return b.name}function ud(b){return b.self.$$state=function(){return b},b.self}function vd(b){return b.parent&&b.parent.data&&(b.data=b.self.data=ta(b.parent.data,b.data)),b.data}function wd(b){return b.parent?b.parent.path.concat(b):
[b]}function xd(b){var a=b.parent?m({},b.parent.includes):{};return a[b.name]=!0,a}function Pb(b){var a,d=Y([[x("resolveFn"),function(a){return new y(a.provide||a.token,a.resolveFn,a.deps,a.policy)}],[x("useFactory"),function(a){return new y(a.provide||a.token,a.useFactory,a.deps||a.dependencies,a.policy)}],[x("useClass"),function(a){return new y(a.provide||a.token,function(){return new a.useClass},[],a.policy)}],[x("useValue"),function(a){return new y(a.provide||a.token,function(){return a.useValue},
[],a.policy,a.useValue)}],[x("useExisting"),function(a){return new y(a.provide||a.token,w,[a.useExisting],a.policy)}]]),e=Y([[k(x("val"),r),function(a){return new y(a.token,w,[a.val],a.policy)}],[k(x("val"),v),function(a){return new y(a.token,L(a.val),a.val.slice(0,-1),a.policy)}],[k(x("val"),u),function(a){return new y(a.token,a.val,(d=a.val,b=p.$injector,d.$inject||b&&b.annotate(d,b.strictDi)||"deferred"),a.policy);var d,b}]]);d=Y([[I(y),function(a){return a}],[function(a){return!(!a.token||!a.resolveFn)},
d],[function(a){return!(!a.provide&&!a.token||!(a.useValue||a.useFactory||a.useExisting||a.useClass))},d],[function(a){return!!(a&&a.val&&(r(a.val)||v(a.val)||u(a.val)))},e],[D(!0),function(a){throw Error("Invalid resolve value: "+M(a));}]]);var g=b.resolve;return(v(g)?g:(a=b.resolvePolicy||{},Object.keys(g||{}).map(function(d){return{token:d,val:g[d],deps:void 0,policy:a[d]}}))).map(d)}function Dc(b,a){var d=b.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!a)return d;switch(a.squash){case !1:b=["(",
")"+(a.isOptional?"?":"")];break;case !0:d=d.replace(/\/$/,"");b=["(?:/(",")|/)?"];break;default:b=["("+a.squash+"|",")?"]}return d+b[0]+a.type.pattern.source+b[1]}function Ec(b){if(!(u(b)||r(b)||I(Z)(b)||Z.isDef(b)))throw Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return u(b)?b:D(b)}function yd(b){b.addResolvable(y.fromData(eb,b.router),"");b.addResolvable(y.fromData(Aa,b),"");b.addResolvable(y.fromData("$transition$",b),"");b.addResolvable(y.fromData("$stateParams",
b.params()),"");b.entering().forEach(function(a){b.addResolvable(y.fromData("$state$",a),a)})}function Qb(b){return function(a,d){return(0,d.$$state()[b])(a,d)}}function Fc(b,a){var d=a.$$state().lazyLoad,e=d._promise;e||(e=d._promise=p.$q.when(d(b,a)).then(function(a){a&&Array.isArray(a.states)&&a.states.forEach(function(a){return b.router.stateRegistry.register(a)});return a}).then(function(b){return delete a.lazyLoad,delete a.$$state().lazyLoad,delete d._promise,b},function(a){return delete d._promise,
p.$q.reject(a)}));return e}function zd(b){var a=b._ignoredReason();if(a)return B.traceTransitionIgnored(b),b=b.router.globals.transition,"SameAsCurrent"===a&&b&&b.abort(),J.ignored().toPromise()}function Ad(b){if(!b.valid())throw Error(b.error());}function Na(b){var a=function(a){return a||""},d=fb(b).map(a),e=d[1];a=gb(d[0]).map(a);return{path:a[0],search:a[1],hash:e,url:b}}function Oa(b,a,d,e){return function(g){var c=g.locationService=new d(g),n=g.locationConfig=new e(g,a);return{name:b,service:c,
configuration:n,dispose:function(a){a.dispose(c);a.dispose(n)}}}}function Gc(b){return p.$injector=Ba,p.$q=Pa,{name:"vanilla.services",$q:Pa,$injector:Ba,dispose:function(){return null}}}function Hc(){var b=null;return function(a,d){return b=b||p.$injector.get("$templateFactory"),[new Rb(a,d,b)]}}function Ic(b){if(!b.parent)return{};var a=["component","bindings","componentProvider"],d=["templateProvider","templateUrl","template","notify","async"].concat(["controller","controllerProvider","controllerAs",
"resolveAs"]),e=a.concat(d);if(q(b.views)&&Sb(e,b))throw Error("State '"+b.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+e.filter(function(a){return q(b[a])}).join(", "));var g={};e=b.views||{$default:wa(b,e)};return ja(e,function(e,c){if(c=c||"$default",r(e)&&(e={component:e}),e=m({},e),Sb(a,e)&&Sb(d,e))throw Error("Cannot combine: "+a.join("|")+" with: "+d.join("|")+" in stateview: '"+
c+"@"+b.name+"'");e.resolveAs=e.resolveAs||"$resolve";e.$type="ng1";e.$context=b;e.$name=c;var h=hb.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=h.uiViewName;e.$uiViewContextAnchor=h.uiViewContextAnchor;g[c]=e}),g}function Jc(b){function a(a,b,c,n,A,G){return d._runtimeServices(n,a,c,b),delete E.router,delete E.$get,E}(E=this.router=new eb).stateProvider=new Kc(E.stateRegistry,E.stateService);E.stateRegistry.decorator("views",Ic);E.stateRegistry.decorator("onExit",Tb("onExit"));E.stateRegistry.decorator("onRetain",
Tb("onRetain"));E.stateRegistry.decorator("onEnter",Tb("onEnter"));E.viewService._pluginapi._viewConfigFactory("ng1",Hc());var d=E.locationService=E.locationConfig=new Lc(b);return Lc.monkeyPatchPathParameterType(E),E.router=E,E.$get=a,a.$inject="$location $browser $sniffer $rootScope $http $templateCache".split(" "),E}function Mc(b,a,d){p.$injector=b;p.$q=a;d.stateRegistry.get().map(function(a){return a.$$state().resolvables}).reduce(C,[]).filter(function(a){return"deferred"===a.deps}).forEach(function(a){return a.deps=
b.annotate(a.resolveFn,b.strictDi)})}function Ub(b){b.$watch(function(){B.approximateDigests++})}function Nc(b){var a,d=b.match(/^\s*({[^}]*})\s*$/);if(d&&(b="("+d[1]+")"),!(a=b.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==a.length)throw Error("Invalid state ref '"+b+"'");return{state:a[1]||null,paramExpr:a[3]||null}}function Oc(b){b=b.parent().inheritedData("$uiView");return(b=Q("$cfg.path")(b))?L(b).state.name:void 0}function Pc(b,a,d){var e=d.uiState||b.current.name,g=m;a={relative:Oc(a)||
b.$current,inherit:!0,source:"sref"};g=g(a,d.uiStateOpts||{});b=b.href(e,d.uiStateParams,g);return{uiState:e,uiStateParams:d.uiStateParams,uiStateOpts:g,href:b}}function Qc(b){var a="[object SVGAnimatedString]"===Object.prototype.toString.call(b.prop("href")),d="FORM"===b[0].nodeName;return{attr:d?"action":a?"xlink:href":"href",isAnchor:"A"===b.prop("tagName").toUpperCase(),clickable:!d}}function Rc(b,a,d,e,g){return function(c){var h=c.which||c.button,A=g();if(!(1<h||c.ctrlKey||c.metaKey||c.shiftKey||
b.attr("target"))){var G=d(function(){a.go(A.uiState,A.uiStateParams,A.uiStateOpts)});c.preventDefault();var z=e.isAnchor&&!A.href?1:0;c.preventDefault=function(){0>=z--&&d.cancel(G)}}}}function Sc(b,a,d,e){var g;e&&(g=e.events);v(g)||(g=["click"]);e=b.on?"on":"bind";for(var c=0,n=g;c<n.length;c++)b[e](n[c],d);a.$on("$destroy",function(){for(var a=b.off?"off":"unbind",e=0,c=g;e<c.length;e++)b[a](c[e],d)})}function Tc(b){var a=function(a,e,g){return b.is(a,e,g)};return a.$stateful=!0,a}function Uc(b){var a=
function(a,e,g){return b.includes(a,e,g)};return a.$stateful=!0,a}function Vc(b,a,d,e,g,c){var h=Q("viewDecl.controllerAs"),A=Q("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(e){var c=e.html();return e.empty(),function(e,n){var z=n.data("$uiView");if(!z)return n.html(c),void b(n.contents())(e);var G=z.$cfg||{viewDecl:{},getTemplate:R},f=G.path&&new V(G.path);n.html(G.getTemplate(n,f)||c);B.traceUIViewFill(z.$uiView,n.html());z=b(n.contents());var ba=G.controller,ua=h(G),
k=A(G);f=f&&Vb(f);if(e[k]=f,ba)ba=a(ba,m({},f,{$scope:e,$element:n})),ua&&(e[ua]=ba,e[ua][k]=f),n.data("$ngControllerController",ba),n.children().data("$ngControllerController",ba),Xc(g,d,ba,e,G);if(r(G.viewDecl.component)){var l=G.viewDecl.component;ua=bb(l);var q=new RegExp("^(x-|data-)?"+ua+"$","i"),p=e.$watch(function(){var a=[].slice.call(n[0].children).filter(function(a){return a&&a.tagName&&q.exec(a.tagName)});return a&&K.element(a).data("$"+l+"Controller")},function(a){a&&(Xc(g,d,a,e,G),p())})}z(e)}}}}
function Xc(b,a,d,e,g){!u(d.$onInit)||g.viewDecl.component&&Bd||d.$onInit();var c=L(g.path).state.self,n={bind:d};if(u(d.uiOnParamsChanged)){var A=(new V(g.path)).getResolvable("$transition$").data;e.$on("$destroy",a.onSuccess({},function(a){if(a!==A&&-1===a.exiting().indexOf(c)){var b=a.params("to"),e=a.params("from"),g=a.treeChanges().to.map(function(a){return a.paramSchema}).reduce(C,[]),h=a.treeChanges().from.map(function(a){return a.paramSchema}).reduce(C,[]);g=g.filter(function(a){var d=h.indexOf(a);
return-1===d||!h[d].type.equals(b[a.id],e[a.id])});if(g.length){var n=g.map(function(a){return a.id});g=Ja(b,function(a,d){return-1!==n.indexOf(d)});d.uiOnParamsChanged(g,a)}}},n))}if(u(d.uiCanExit)){var G=Cd++,z=function(a){return!!a&&(a._uiCanExitIds&&!0===a._uiCanExitIds[G]||z(a.redirectedFrom()))};e.$on("$destroy",a.onBefore({exiting:c.name},function(a){var e,g=a._uiCanExitIds=a._uiCanExitIds||{};return z(a)||(e=b.when(d.uiCanExit(a))).then(function(a){return g[G]=!1!==a}),e},n))}}var Dd=angular,
K=f&&f.module?f:Dd,x=function(b){return function(a){return a&&a[b]}},ka=l(function(b,a,d){return d&&d[b]===a}),Q=function(b){return k.apply(null,b.split(".").map(x))},ca=function(b){return function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];return!b.apply(null,a)}},za=function(b){return function(a){return a.reduce(function(a,e){return a&&!!b(e)},!0)}},Jb=function(b){return function(a){return a.reduce(function(a,e){return a||!!b(e)},!1)}},I=function(b){return function(a){return null!=
a&&a.constructor===b||a instanceof b}},Yc=function(b){return function(a){return b===a}},D=function(b){return function(){return b}},Ma=function(){function b(a){this.text=a;this.glob=a.split(".");a=this.text.split(".").map(function(a){return"**"===a?"(?:|(?:\\.[^.]*)*)":"*"===a?"\\.[^.]*":"\\."+a}).join("");this.regexp=new RegExp("^"+a+"$")}return b.is=function(a){return!!/[!,*]+/.exec(a)},b.fromString=function(a){return b.is(a)?new b(a):null},b.prototype.matches=function(a){return this.regexp.test("."+
a)},b}(),ib=function(){function b(a){return b.create(a||{})}return b.create=function(a){a=b.isStateClass(a)?new a:a;var d=ta(ta(a,b.prototype));return a.$$state=function(){return d},d.self=a,d.__stateObjectCache={nameGlob:Ma.fromString(d.name)},d},b.prototype.is=function(a){return this===a||this.self===a||this.fqn()===a},b.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var a=this.parent.fqn();return a?a+"."+this.name:this.name},b.prototype.root=
function(){return this.parent&&this.parent.root()||this},b.prototype.parameters=function(a){return((a=da(a,{inherit:!0,matchingKeys:null})).inherit&&this.parent&&this.parent.parameters()||[]).concat(aa(this.params)).filter(function(d){return!a.matchingKeys||a.matchingKeys.hasOwnProperty(d.id)})},b.prototype.parameter=function(a,d){return void 0===d&&(d={}),this.url&&this.url.parameter(a,d)||ea(aa(this.params),ka("id",a))||d.inherit&&this.parent&&this.parent.parameter(a)},b.prototype.toString=function(){return this.fqn()},
b.isStateClass=function(a){return u(a)&&!0===a.__uiRouterState},b.isState=function(a){return O(a.__stateObjectCache)},b}(),Zc=Object.prototype.toString,jb=function(b){return function(a){return typeof a===b}},pa=jb("undefined"),q=ca(pa),kb=function(b){return null===b},lb=Ga(kb,pa),u=jb("function"),Kb=jb("number"),r=jb("string"),O=function(b){return null!==b&&"object"==typeof b},v=Array.isArray,Za=function(b){return"[object Date]"===Zc.call(b)},$a=function(b){return"[object RegExp]"===Zc.call(b)},Wb=
ib.isState,va=T(O,k(x("then"),u)),Xb=function(b){return function(){throw Error(b+"(): No coreservices implementation for UI-Router is loaded.");}},p={$q:void 0,$injector:void 0},la="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0,mb=la.angular||{},Yb=mb.fromJson||JSON.parse.bind(JSON),Zb=mb.toJson||JSON.stringify.bind(JSON),ja=mb.forEach||function(b,a,d){if(v(b))return b.forEach(a,d);Object.keys(b).forEach(function(d){return a(b[d],d)})},
m=Object.assign||Hb,Qa=mb.equals||Ib,ta=function(b,a){return m(Object.create(b),a)},U=l(Db),P=l(Eb),$b=l(Ia),ac=function(b){return b.slice().forEach(function(a){"function"==typeof a&&a();P(b,a)})},Ra=function(b,a){return m(b,a)},nb=S,aa=function(b){return Object.keys(b).map(function(a){return b[a]})},ob=function(b,a){return b&&a},pb=function(b,a){return b||a},C=function(b,a){return b.concat(a)},qb=function(b,a){return v(a)?b.concat(a.reduce(qb,[])):Ka(b,a)},Ca=function(b,a){return U(b,a)?b:Ka(b,a)},
rb=function(b){return b.reduce(C,[])},$c=function(b){return b.reduce(qb,[])},ad=function(b){return Object.keys(b).map(function(a){return[a,b[a]]})},fa,sb=function(b){return b.catch(function(a){return 0})&&b},Sa=function(b){return sb(p.$q.reject(b))},Ta=function(){function b(a,d){void 0===a&&(a=[]);void 0===d&&(d=null);this._items=a;this._limit=d;this._evictListeners=[];this.onEvict=$b(this._evictListeners)}return b.prototype.enqueue=function(a){var d=this._items;return d.push(a),this._limit&&d.length>
this._limit&&this.evict(),a},b.prototype.evict=function(){var a=this._items.shift();return this._evictListeners.forEach(function(d){return d(a)}),a},b.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},b.prototype.clear=function(){var a=this._items;return this._items=[],a},b.prototype.size=function(){return this._items.length},b.prototype.remove=function(a){a=this._items.indexOf(a);return-1<a&&this._items.splice(a,1)[0]},b.prototype.peekTail=function(){return this._items[this._items.length-
1]},b.prototype.peekHead=function(){if(this.size())return this._items[0]},b}();(fa=c.RejectType||(c.RejectType={}))[fa.SUPERSEDED=2]="SUPERSEDED";fa[fa.ABORTED=3]="ABORTED";fa[fa.INVALID=4]="INVALID";fa[fa.IGNORED=5]="IGNORED";fa[fa.ERROR=6]="ERROR";var Ed=0,J=function(){function b(a,d,b){this.$id=Ed++;this.type=a;this.message=d;this.detail=b}return b.isRejectionPromise=function(a){return a&&"function"==typeof a.then&&I(b)(a._transitionRejection)},b.superseded=function(a,d){a=new b(c.RejectType.SUPERSEDED,
"The transition has been superseded by a different transition",a);return d&&d.redirected&&(a.redirected=!0),a},b.redirected=function(a){return b.superseded(a,{redirected:!0})},b.invalid=function(a){return new b(c.RejectType.INVALID,"This transition is invalid",a)},b.ignored=function(a){return new b(c.RejectType.IGNORED,"The transition was ignored",a)},b.aborted=function(a){return new b(c.RejectType.ABORTED,"The transition has been aborted",a)},b.errored=function(a){return new b(c.RejectType.ERROR,
"The transition errored",a)},b.normalize=function(a){return I(b)(a)?a:b.errored(a)},b.prototype.toString=function(){var a,d=(a=this.detail)&&a.toString!==Object.prototype.toString?a.toString():M(a);return"Transition Rejection($id: "+this.$id+" type: "+this.type+", message: "+this.message+", detail: "+d+")"},b.prototype.toPromise=function(){return m(Sa(this),{_transitionRejection:this})},b}(),ha,Fd=Function.prototype.bind.call(console.log,console),Gd=u(console.table)?console.table.bind(console):Fd.bind(console);
(ha=c.Category||(c.Category={}))[ha.RESOLVE=0]="RESOLVE";ha[ha.TRANSITION=1]="TRANSITION";ha[ha.HOOK=2]="HOOK";ha[ha.UIVIEW=3]="UIVIEW";ha[ha.VIEWCONFIG=4]="VIEWCONFIG";var ia,tb,Hd=Q("$id"),Id=Q("router.$id"),qa=function(b){return"Transition #"+Hd(b)+"-"+Id(b)},bc=function(){function b(){this._enabled={};this.approximateDigests=0}return b.prototype._set=function(a,d){var b=this;d.length||(d=Object.keys(c.Category).map(function(a){return parseInt(a,10)}).filter(function(a){return!isNaN(a)}).map(function(a){return c.Category[a]}));
d.map(Cc).forEach(function(d){return b._enabled[d]=a})},b.prototype.enable=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this._set(!0,a)},b.prototype.disable=function(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];this._set(!1,a)},b.prototype.enabled=function(a){return!!this._enabled[Cc(a)]},b.prototype.traceTransitionStart=function(a){this.enabled(c.Category.TRANSITION)&&console.log(qa(a)+": Started  -> "+M(a))},b.prototype.traceTransitionIgnored=function(a){this.enabled(c.Category.TRANSITION)&&
console.log(qa(a)+": Ignored  <> "+M(a))},b.prototype.traceHookInvocation=function(a,d,b){if(this.enabled(c.Category.HOOK)){var e=Q("traceData.hookType")(b)||"internal";b=Q("traceData.context.state.name")(b)||Q("traceData.context")(b)||"unknown";a=cb(a.registeredHook.callback);console.log(qa(d)+":   Hook -> "+e+" context: "+b+", "+sa(200,a))}},b.prototype.traceHookResult=function(a,d,b){this.enabled(c.Category.HOOK)&&console.log(qa(d)+":   <- Hook returned: "+sa(200,M(a)))},b.prototype.traceResolvePath=
function(a,d,b){this.enabled(c.Category.RESOLVE)&&console.log(qa(b)+":         Resolving "+a+" ("+d+")")},b.prototype.traceResolvableResolved=function(a,d){this.enabled(c.Category.RESOLVE)&&console.log(qa(d)+":               <- Resolved  "+a+" to: "+sa(200,M(a.data)))},b.prototype.traceError=function(a,d){this.enabled(c.Category.TRANSITION)&&console.log(qa(d)+": <- Rejected "+M(d)+", reason: "+a)},b.prototype.traceSuccess=function(a,d){this.enabled(c.Category.TRANSITION)&&console.log(qa(d)+": <- Success  "+
M(d)+", final state: "+a.name)},b.prototype.traceUIViewEvent=function(a,d,b){void 0===b&&(b="");this.enabled(c.Category.UIVIEW)&&console.log("ui-view: "+Mb(30,a)+" "+Bc(d)+b)},b.prototype.traceUIViewConfigUpdated=function(a,d){this.enabled(c.Category.UIVIEW)&&this.traceUIViewEvent("Updating",a," with ViewConfig from context='"+d+"'")},b.prototype.traceUIViewFill=function(a,d){this.enabled(c.Category.UIVIEW)&&this.traceUIViewEvent("Fill",a," with: "+sa(200,d))},b.prototype.traceViewSync=function(a){this.enabled(c.Category.VIEWCONFIG)&&
(a=a.map(function(a){var b,d=a.uiView;a=a.viewConfig;d=d&&d.fqn;a=a&&a.viewDecl.$context.name+": ("+a.viewDecl.$name+")";return(b={})["uiview component fqn"]=d,b["view config state (view name)"]=a,b}).sort(function(a,b){return(a["uiview component fqn"]||"").localeCompare(b["uiview component fqn"]||"")}),Gd(a))},b.prototype.traceViewServiceEvent=function(a,b){this.enabled(c.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+a+" "+function(a){var b=a.viewDecl;return"[View#"+a.$id+" from '"+(b.$context.name||
"(root)")+"' state]: target ui-view: '"+b.$uiViewName+"@"+b.$uiViewContextAnchor+"'"}(b))},b.prototype.traceViewServiceUIViewEvent=function(a,b){this.enabled(c.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+a+" "+Bc(b))},b}(),B=new bc;(ia=c.TransitionHookPhase||(c.TransitionHookPhase={}))[ia.CREATE=0]="CREATE";ia[ia.BEFORE=1]="BEFORE";ia[ia.RUN=2]="RUN";ia[ia.SUCCESS=3]="SUCCESS";ia[ia.ERROR=4]="ERROR";(tb=c.TransitionHookScope||(c.TransitionHookScope={}))[tb.TRANSITION=0]="TRANSITION";tb[tb.STATE=
1]="STATE";var Z=function(){function b(a,b,e,g){this._stateRegistry=a;this._identifier=b;this._params=m({},e||{});this._options=m({},g||{});this._definition=a.matcher.find(b,this._options.relative)}return b.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},b.prototype.identifier=function(){return this._identifier},b.prototype.params=function(){return this._params},b.prototype.$state=function(){return this._definition},b.prototype.state=function(){return this._definition&&
this._definition.self},b.prototype.options=function(){return this._options},b.prototype.exists=function(){return!(!this._definition||!this._definition.self)},b.prototype.valid=function(){return!this.error()},b.prototype.error=function(){var a=this.options().relative;return!this._definition&&a?(a=a.name?a.name:a,"Could not resolve '"+this.name()+"' from state '"+a+"'"):this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},
b.prototype.toString=function(){return"'"+this.name()+"'"+M(this.params())},b.prototype.withState=function(a){return new b(this._stateRegistry,a,this._params,this._options)},b.prototype.withParams=function(a,d){void 0===d&&(d=!1);a=d?a:m({},this._params,a);return new b(this._stateRegistry,this._identifier,a,this._options)},b.prototype.withOptions=function(a,d){void 0===d&&(d=!1);a=d?a:m({},this._options,a);return new b(this._stateRegistry,this._identifier,this._params,a)},b.isDef=function(a){return a&&
a.state&&(r(a.state)||r(a.state.name))},b}(),Jd={current:R,transition:null,traceData:{},bind:null},N=function(){function b(a,b,e,g){var d=this;this.transition=a;this.stateContext=b;this.registeredHook=e;this.options=g;this.isSuperseded=function(){return d.type.hookPhase===c.TransitionHookPhase.RUN&&!d.options.transition.isActive()};this.options=da(g,Jd);this.type=e.eventType}return b.chain=function(a,b){return a.reduce(function(a,b){return a.then(function(){return b.invokeHook()})},b||p.$q.when())},
b.invokeHooks=function(a,d){for(var e=0;e<a.length;e++){var g=a[e].invokeHook();if(va(g))return a=a.slice(e+1),b.chain(a,g).then(d)}return d()},b.runAllHooks=function(a){a.forEach(function(a){return a.invokeHook()})},b.prototype.logError=function(a){this.transition.router.stateService.defaultErrorHandler()(a)},b.prototype.invokeHook=function(){var a=this,b=this.registeredHook;if(!b._deregistered){var e=this.getNotCurrentRejection();if(e)return e;e=this.options;B.traceHookInvocation(this,this.transition,
e);var g=function(d){return b.eventType.getErrorHandler(a)(d)},c=function(d){return b.eventType.getResultHandler(a)(d)};try{var n=b.callback.call(e.bind,a.transition,a.stateContext);return!this.type.synchronous&&va(n)?n.catch(function(a){return J.normalize(a).toPromise()}).then(c,g):c(n)}catch(A){return g(J.normalize(A))}finally{b.invokeLimit&&++b.invokeCount>=b.invokeLimit&&b.deregister()}}},b.prototype.handleHookResult=function(a){var b=this;return this.getNotCurrentRejection()||(va(a)?a.then(function(a){return b.handleHookResult(a)}):
(B.traceHookResult(a,this.transition,this.options),!1===a?J.aborted("Hook aborted transition").toPromise():I(Z)(a)?J.redirected(a).toPromise():void 0))},b.prototype.getNotCurrentRejection=function(){var a=this.transition.router;return a._disposed?J.aborted("UIRouter instance #"+a.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?J.aborted().toPromise():this.isSuperseded()?J.superseded(this.options.current()).toPromise():void 0},b.prototype.toString=function(){var a=this.options,
b=this.registeredHook;return(Q("traceData.hookType")(a)||"internal")+" context: "+(Q("traceData.context.state.name")(a)||Q("traceData.context")(a)||"unknown")+", "+sa(200,db(b.callback))},b.HANDLE_RESULT=function(a){return function(b){return a.handleHookResult(b)}},b.LOG_REJECTED_RESULT=function(a){return function(b){va(b)&&b.catch(function(b){return a.logError(J.normalize(b))})}},b.LOG_ERROR=function(a){return function(b){return a.logError(b)}},b.REJECT_ERROR=function(a){return function(a){return Sa(a)}},
b.THROW_ERROR=function(a){return function(a){throw a;}},b}(),Lb=function(){function b(a,b,e,g,c,n){void 0===n&&(n={});this.tranSvc=a;this.eventType=b;this.callback=e;this.matchCriteria=g;this.removeHookFromRegistry=c;this.invokeCount=0;this._deregistered=!1;this.priority=n.priority||0;this.bind=n.bind||null;this.invokeLimit=n.invokeLimit}return b.prototype._matchingNodes=function(a,b){if(!0===b)return a;a=a.filter(function(a){return La(a.state,b)});return a.length?a:null},b.prototype._getDefaultMatchCriteria=
function(){return nb(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},b.prototype._getMatchingNodes=function(a){var b=this,e=m(this._getDefaultMatchCriteria(),this.matchCriteria);return aa(this.tranSvc._pluginapi._getPathTypes()).reduce(function(d,h){var g=a[h.name]||[];g=h.scope===c.TransitionHookScope.STATE?g:[L(g)];return d[h.name]=b._matchingNodes(g,e[h.name]),d},{})},b.prototype.matches=function(a){a=this._getMatchingNodes(a);return aa(a).every(w)?a:null},b.prototype.deregister=
function(){this.removeHookFromRegistry(this);this._deregistered=!0},b}(),cc=function(){function b(a){this.transition=a}return b.prototype.buildHooksForPhase=function(a){var b=this;return this.transition.router.transitionService._pluginapi._getEvents(a).map(function(a){return b.buildHooks(a)}).reduce(C,[]).filter(w)},b.prototype.buildHooks=function(a){var b=this.transition,e=b.treeChanges(),g=this.getMatchingHooks(a,e);if(!g)return[];var h={transition:b,current:b.options().current};return g.map(function(d){return d.matches(e)[a.criteriaMatchPath.name].map(function(e){var g=
m({bind:d.bind,traceData:{hookType:a.name,context:e}},h);g=new N(b,a.criteriaMatchPath.scope===c.TransitionHookScope.STATE?e.state.self:null,d,g);return{hook:d,node:e,transitionHook:g}})}).reduce(C,[]).sort(function(a){void 0===a&&(a=!1);return function(b,d){var e=(b.node.state.path.length-d.node.state.path.length)*(a?-1:1);return 0!==e?e:d.hook.priority-b.hook.priority}}(a.reverseSort)).map(function(a){return a.transitionHook})},b.prototype.getMatchingHooks=function(a,b){var d=this.transition.router.transitionService;
return(a.hookPhase===c.TransitionHookPhase.CREATE?[d]:[this.transition,d]).map(function(b){return b.getHooks(a.name)}).filter(na(v,"broken event named: "+a.name)).reduce(C,[]).filter(function(a){return a.matches(b)})},b}(),Ua=function(){function b(a){this.pattern=/.*/;this.inherit=!0;m(this,a)}return b.prototype.is=function(a,b){return!0},b.prototype.encode=function(a,b){return a},b.prototype.decode=function(a,b){return a},b.prototype.equals=function(a,b){return a==b},b.prototype.$subPattern=function(){var a=
this.pattern.toString();return a.substr(1,a.length-2)},b.prototype.toString=function(){return"{ParamType:"+this.name+"}"},b.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},b.prototype.$asArray=function(a,b){if(!a)return this;if("auto"===a&&!b)throw Error("'auto' array mode is for query parameters only");return new function(a,b){function d(a){return v(a)?a:q(a)?[a]:[]}function e(a,e){return function(c){if(v(c)&&0===c.length)return c;c=d(c);c=S(c,a);if(!0===e)c=0===Ja(c,function(a){return!a}).length;
else a:switch(c.length){case 0:c=void 0;break a;case 1:c="auto"===b?c[0]:c}return c}}function c(a){return function(b,e){b=d(b);e=d(e);if(b.length!==e.length)return!1;for(var c=0;c<b.length;c++)if(!a(b[c],e[c]))return!1;return!0}}var g=this;["encode","decode","equals","$normalize"].forEach(function(b){var d=a[b].bind(a);g[b]=("equals"===b?c:e)(d)});m(this,{dynamic:a.dynamic,name:a.name,pattern:a.pattern,inherit:a.inherit,is:e(a.is.bind(a),!0),$arrayMode:b})}(this,a)},b}(),Da,Kd=Object.prototype.hasOwnProperty;
(Da=c.DefType||(c.DefType={}))[Da.PATH=0]="PATH";Da[Da.SEARCH=1]="SEARCH";Da[Da.CONFIG=2]="CONFIG";var W=function(){function b(a,b,e,g,h){b=function(a,b,d,e,g){if(a.type&&b&&"string"!==b.name)throw Error("Param '"+e+"' has two type configurations.");return a.type&&b&&"string"===b.name&&g.type(a.type)?g.type(a.type):b?b:a.type?a.type instanceof Ua?a.type:g.type(a.type):g.type(d===c.DefType.CONFIG?"any":d===c.DefType.PATH?"path":d===c.DefType.SEARCH?"query":"string")}(e=function(a){function b(){return a.value}
return a=0===["value","type","squash","array","dynamic"].filter(Kd.bind(a||{})).length&&{value:a}||a,b.__cacheable=!0,m(a,{$$fn:H(a.value)?a.value:b})}(e),b,g,a,h.paramTypes);var d,A,f=(d={array:g===c.DefType.SEARCH&&"auto"},A=a.match(/\[\]$/)?{array:!0}:{},m(d,A,e).array);b=f?b.$asArray(f,g===c.DefType.SEARCH):b;d=void 0!==e.value||g===c.DefType.SEARCH;A=q(e.dynamic)?!!e.dynamic:!!b.dynamic;var z=q(e.raw)?!!e.raw:!!b.raw;h=function(a,b,d){a=a.squash;if(!b||!1===a)return!1;if(!q(a)||null==a)return d;
if(!0===a||r(a))return a;throw Error("Invalid squash policy: '"+a+"'. Valid policies: false, true, or arbitrary string");}(e,d,h.defaultSquashPolicy());var ba=function(a,b,d,e){b=[{from:"",to:d||b?void 0:""},{from:null,to:d||b?void 0:""}];a=v(a.replace)?a.replace:[];r(e)&&a.push({from:e,to:void 0});var c=S(a,x("from"));return Ja(b,function(a){return-1===c.indexOf(a.from)}).concat(a)}(e,f,d,h),k=q(e.inherit)?!!e.inherit:!!b.inherit;m(this,{id:a,type:b,location:g,isOptional:d,dynamic:A,raw:z,squash:h,
replace:ba,inherit:k,array:f,config:e})}return b.values=function(a,b){void 0===b&&(b={});for(var d={},c=0;c<a.length;c++){var h=a[c];d[h.id]=h.value(b[h.id])}return d},b.changed=function(a,b,e){return void 0===b&&(b={}),void 0===e&&(e={}),a.filter(function(a){return!a.type.equals(b[a.id],e[a.id])})},b.equals=function(a,d,e){return void 0===d&&(d={}),void 0===e&&(e={}),0===b.changed(a,d,e).length},b.validates=function(a,b){return void 0===b&&(b={}),a.map(function(a){return a.validates(b[a.id])}).reduce(ob,
!0)},b.prototype.isDefaultValue=function(a){return this.isOptional&&this.type.equals(this.value(),a)},b.prototype.value=function(a){var b=this;return a=function(a){for(var d=0,e=b.replace;d<e.length;d++){var c=e[d];if(c.from===a)return c.to}return a}(a),pa(a)?function(){if(b._defaultValueCache)return b._defaultValueCache.defaultValue;if(!p.$injector)throw Error("Injectable functions cannot be called at configuration time");var a=p.$injector.invoke(b.config.$$fn);if(null!==a&&void 0!==a&&!b.type.is(a))throw Error("Default value ("+
a+") for parameter '"+b.id+"' is not an instance of ParamType ("+b.type.name+")");return b.config.$$fn.__cacheable&&(b._defaultValueCache={defaultValue:a}),a}():this.type.$normalize(a)},b.prototype.isSearch=function(){return this.location===c.DefType.SEARCH},b.prototype.validates=function(a){if((pa(a)||null===a)&&this.isOptional)return!0;a=this.type.$normalize(a);if(!this.type.is(a))return!1;a=this.type.encode(a);return!(r(a)&&!this.type.pattern.exec(a))},b.prototype.toString=function(){return"{Param:"+
this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},b}(),Va=function(){function b(a){a instanceof b?(this.state=a.state,this.paramSchema=a.paramSchema.slice(),this.paramValues=m({},a.paramValues),this.resolvables=a.resolvables.slice(),this.views=a.views&&a.views.slice()):(this.state=a,this.paramSchema=a.parameters({inherit:!1}),this.paramValues={},this.resolvables=a.resolvables.map(function(a){return a.clone()}))}return b.prototype.clone=function(){return new b(this)},
b.prototype.applyRawParams=function(a){return this.paramValues=this.paramSchema.reduce(function(b,e){return ya(b,[(d=e).id,d.value(a[d.id])]);var d},{}),this},b.prototype.parameter=function(a){return ea(this.paramSchema,ka("id",a))},b.prototype.equals=function(a,b){return(a=this.diff(a,b))&&0===a.length},b.prototype.diff=function(a,b){if(this.state!==a.state)return!1;b=b?b(this):this.paramSchema;return W.changed(b,this.paramValues,a.paramValues)},b.clone=function(a){return a.clone()},b}(),X=function(){function b(){}
return b.makeTargetState=function(a,b){var d=L(b).state;return new Z(a,d,b.map(x("paramValues")).reduce(Ra,{}),{})},b.buildPath=function(a){var b=a.params();return a.$state().path.map(function(a){return(new Va(a)).applyRawParams(b)})},b.buildToPath=function(a,d){var e=b.buildPath(d);return d.options().inherit?b.inheritParams(a,e,Object.keys(d.params())):e},b.applyViewConfigs=function(a,d,e){d.filter(function(a){return U(e,a.state)}).forEach(function(e){var c=aa(e.state.views||{}),g=b.subPath(d,function(a){return a===
e});c=c.map(function(b){return a.createViewConfig(g,b)});e.views=c.reduce(C,[])})},b.inheritParams=function(a,b,e){void 0===e&&(e=[]);var d=a.map(function(a){return a.paramSchema}).reduce(C,[]).filter(function(a){return!a.inherit}).map(x("id"));return b.map(function(b){var c=m({},b&&b.paramValues),g=wa(c,e);c=xa(c,e);var h,f,ba=xa((h=b.state,f=ea(a,ka("state",h)),m({},f&&f.paramValues)||{}),d);c=m(c,ba,g);return(new Va(b.state)).applyRawParams(c)})},b.treeChanges=function(a,d,e){for(var c,h,n,A=Math.min(a.length,
d.length),f=0;f<A&&a[f].state!==e&&(c=a[f],h=d[f],c.equals(h,b.nonDynamicParams));)f++;e=a.slice(0,f);c=a.slice(f);h=e.map(function(a,b){a=a.clone();return a.paramValues=d[b].paramValues,a});return n=d.slice(f),{from:a,to:h.concat(n),retained:e,retainedWithToParams:h,exiting:c,entering:n}},b.matching=function(a,b,e){var d=!1;return oa(a,b).reduce(function(a,b){var c=b[0];b=b[1];return(d=d||!c.equals(b,e))?a:a.concat(c)},[])},b.equals=function(a,d,e){return a.length===d.length&&b.matching(a,d,e).length===
a.length},b.subPath=function(a,b){b=ea(a,b);b=a.indexOf(b);return-1===b?void 0:a.slice(0,b+1)},b.nonDynamicParams=function(a){return a.state.parameters({inherit:!1}).filter(function(a){return!a.dynamic})},b.paramValues=function(a){return a.reduce(function(a,b){return m(a,b.paramValues)},{})},b}(),ub={when:"LAZY",async:"WAIT"},y=function(){function b(a,d,e,c,h){if(this.resolved=!1,this.promise=void 0,a instanceof b)m(this,a);else if(u(d)){if(lb(a))throw Error("new Resolvable(): token argument is required");
if(!u(d))throw Error("new Resolvable(): resolveFn argument must be a function");this.token=a;this.policy=c;this.resolveFn=d;this.deps=e||[];this.data=h;this.promise=(this.resolved=void 0!==h)?p.$q.when(this.data):void 0}else if(O(a)&&a.token&&(a.hasOwnProperty("resolveFn")||a.hasOwnProperty("data")))return new b(a.token,a.resolveFn,a.deps,a.policy,a.data)}return b.prototype.getPolicy=function(a){var b=this.policy||{};a=a&&a.resolvePolicy||{};return{when:b.when||a.when||ub.when,async:b.async||a.async||
ub.async}},b.prototype.resolve=function(a,b){var d=this,c=p.$q,h=a.findNode(this);h="RXWAIT"===this.getPolicy(h&&h.state).async?function(a){var b=a.cache(1);return b.take(1).toPromise().then(function(){return b})}:w;return this.promise=c.when().then(function(){return c.all(a.getDependencies(d).map(function(d){return d.get(a,b)}))}).then(function(a){return d.resolveFn.apply(null,a)}).then(h).then(function(a){return d.data=a,d.resolved=!0,d.resolveFn=null,B.traceResolvableResolved(d,b),d.data})},b.prototype.get=
function(a,b){return this.promise||this.resolve(a,b)},b.prototype.toString=function(){return"Resolvable(token: "+M(this.token)+", requires: ["+this.deps.map(M)+"])"},b.prototype.clone=function(){return new b(this)},b.fromData=function(a,d){return new b(a,function(){return d},null,null,d)},b}(),vb={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},dc=vb.when,bd=[dc.EAGER,dc.LAZY],Ld=[dc.EAGER],V=function(){function b(a){this._path=a}return b.prototype.getTokens=
function(){return this._path.reduce(function(a,b){return a.concat(b.resolvables.map(function(a){return a.token}))},[]).reduce(Ca,[])},b.prototype.getResolvable=function(a){return L(this._path.map(function(a){return a.resolvables}).reduce(C,[]).filter(function(b){return b.token===a}))},b.prototype.getPolicy=function(a){var b=this.findNode(a);return a.getPolicy(b.state)},b.prototype.subContext=function(a){return new b(X.subPath(this._path,function(b){return b.state===a}))},b.prototype.addResolvables=
function(a,b){b=ea(this._path,ka("state",b));var d=a.map(function(a){return a.token});b.resolvables=b.resolvables.filter(function(a){return-1===d.indexOf(a.token)}).concat(a)},b.prototype.resolvePath=function(a,b){var d=this;void 0===a&&(a="LAZY");var c=(U(bd,a)?a:"LAZY")===vb.when.EAGER?Ld:bd;B.traceResolvePath(this._path,a,b);var h=function(a,b){return function(e){return U(a,d.getPolicy(e)[b])}};a=this._path.reduce(function(a,e){var g=e.resolvables.filter(h(c,"when")),n=g.filter(h(["NOWAIT"],"async"));
g=g.filter(ca(h(["NOWAIT"],"async")));var A=d.subContext(e.state);e=function(a){return a.get(A,b).then(function(b){return{token:a.token,value:b}})};return n.forEach(e),a.concat(g.map(e))},[]);return p.$q.all(a)},b.prototype.injector=function(){return this._injector||(this._injector=new Md(this))},b.prototype.findNode=function(a){return ea(this._path,function(b){return U(b.resolvables,a)})},b.prototype.getDependencies=function(a){var b=this,e=this.findNode(a),c=(X.subPath(this._path,function(a){return a===
e})||this._path).reduce(function(a,b){return a.concat(b.resolvables)},[]).filter(function(b){return b!==a});return a.deps.map(function(a){var d=c.filter(function(b){return b.token===a});if(d.length)return L(d);var e=b.injector().getNative(a);if(pa(e))throw Error("Could not find Dependency Injection token: "+M(a));return new y(a,function(){return e},[],e)})},b}(),Md=function(){function b(a){this.context=a;this.native=this.get("Native Injector")||p.$injector}return b.prototype.get=function(a){var b=
this.context.getResolvable(a);if(b){if("NOWAIT"===this.context.getPolicy(b).async)return b.get(this.context);if(!b.resolved)throw Error("Resolvable async .get() not complete:"+M(b.token));return b.data}return this.getNative(a)},b.prototype.getAsync=function(a){var b=this.context.getResolvable(a);return b?b.get(this.context):p.$q.when(this.native.get(a))},b.prototype.getNative=function(a){return this.native&&this.native.get(a)},b}(),ec=x("self"),Aa=function(){function b(a,b,e){var d=this;if(this._deferred=
p.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new cc(this),this.isActive=function(){return d.router.globals.transition===d},this.router=e,this._targetState=b,!b.valid())throw Error(b.error());this._options=m({current:D(this)},b.options());this.$id=e.transitionService._transitionCount++;b=X.buildToPath(a,b);this._treeChanges=X.treeChanges(a,b,this._options.reloadState);this.createTransitionHookRegFns();a=this._hookBuilder.buildHooksForPhase(c.TransitionHookPhase.CREATE);
N.invokeHooks(a,function(){return null});this.applyViewConfigs(e)}return b.prototype.onBefore=function(a,b,e){},b.prototype.onStart=function(a,b,e){},b.prototype.onExit=function(a,b,e){},b.prototype.onRetain=function(a,b,e){},b.prototype.onEnter=function(a,b,e){},b.prototype.onFinish=function(a,b,e){},b.prototype.onSuccess=function(a,b,e){},b.prototype.onError=function(a,b,e){},b.prototype.createTransitionHookRegFns=function(){var a=this;this.router.transitionService._pluginapi._getEvents().filter(function(a){return a.hookPhase!==
c.TransitionHookPhase.CREATE}).forEach(function(b){return ab(a,a.router.transitionService,b)})},b.prototype.getHooks=function(a){return this._registeredHooks[a]},b.prototype.applyViewConfigs=function(a){var b=this._treeChanges.entering.map(function(a){return a.state});X.applyViewConfigs(a.transitionService.$view,this._treeChanges.to,b)},b.prototype.$from=function(){return L(this._treeChanges.from).state},b.prototype.$to=function(){return L(this._treeChanges.to).state},b.prototype.from=function(){return this.$from().self},
b.prototype.to=function(){return this.$to().self},b.prototype.targetState=function(){return this._targetState},b.prototype.is=function(a){return a instanceof b?this.is({to:a.$to().name,from:a.$from().name}):!(a.to&&!La(this.$to(),a.to)||a.from&&!La(this.$from(),a.from))},b.prototype.params=function(a){return void 0===a&&(a="to"),Object.freeze(this._treeChanges[a].map(x("paramValues")).reduce(Ra,{}))},b.prototype.injector=function(a,b){void 0===b&&(b="to");b=this._treeChanges[b];return a&&(b=X.subPath(b,
function(b){return b.state===a||b.state.name===a})),(new V(b)).injector()},b.prototype.getResolveTokens=function(a){return void 0===a&&(a="to"),(new V(this._treeChanges[a])).getTokens()},b.prototype.addResolvable=function(a,b){void 0===b&&(b="");a=I(y)(a)?a:new y(a);var d="string"==typeof b?b:b.name;b=this._treeChanges.to;var c=ea(b,function(a){return a.state.name===d});(new V(b)).addResolvables([a],c.state)},b.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},b.prototype.originalTransition=
function(){var a=this.redirectedFrom();return a&&a.originalTransition()||this},b.prototype.options=function(){return this._options},b.prototype.entering=function(){return S(this._treeChanges.entering,x("state")).map(ec)},b.prototype.exiting=function(){return S(this._treeChanges.exiting,x("state")).map(ec).reverse()},b.prototype.retained=function(){return S(this._treeChanges.retained,x("state")).map(ec)},b.prototype.views=function(a,b){void 0===a&&(a="entering");a=this._treeChanges[a];return(b?a.filter(ka("state",
b)):a).map(x("views")).filter(w).reduce(C,[])},b.prototype.treeChanges=function(a){return a?this._treeChanges[a]:this._treeChanges},b.prototype.redirect=function(a){for(var b=1,e=this;null!=(e=e.redirectedFrom());)if(20<++b)throw Error("Too many consecutive Transition redirects (20+)");b={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==a.options().location&&(b.location="replace");b=m({},this.options(),a.options(),b);a=a.withOptions(b,!0);var c;b=this.router.transitionService.create(this._treeChanges.from,
a);var h=this._treeChanges.entering;return X.matching(b._treeChanges.entering,h,X.nonDynamicParams).filter(ca((c=a.options().reloadState,function(a){return c&&a.state.includes[c.name]}))).forEach(function(a,b){a.resolvables=h[b].resolvables}),b},b.prototype._changedParams=function(){var a=this._treeChanges;if(!(this._options.reload||a.exiting.length||a.entering.length||a.to.length!==a.from.length||oa(a.to,a.from).map(function(a){return a[0].state!==a[1].state}).reduce(pb,!1))){var b=a.to.map(function(a){return a.paramSchema});
a=[a.to,a.from].map(function(a){return a.map(function(a){return a.paramValues})});return oa(b,a[0],a[1]).map(function(a){return W.changed(a[0],a[1],a[2])}).reduce(C,[])}},b.prototype.dynamic=function(){var a=this._changedParams();return!!a&&a.map(function(a){return a.dynamic}).reduce(pb,!1)},b.prototype.ignored=function(){return!!this._ignoredReason()},b.prototype._ignoredReason=function(){var a=this.router.globals.transition,b=this._options.reloadState,e=function(a,d){if(a.length!==d.length)return!1;
d=X.matching(a,d);return a.length===d.filter(function(a){return!b||!a.state.includes[b.name]}).length},c=this.treeChanges();return(a=a&&a.treeChanges())&&e(a.to,c.to)&&e(a.exiting,c.exiting)?"SameAsPending":0===c.exiting.length&&0===c.entering.length&&e(c.from,c.to)?"SameAsCurrent":void 0},b.prototype.run=function(){var a=this,b=N.runAllHooks,e=a._hookBuilder.buildHooksForPhase(c.TransitionHookPhase.BEFORE);return N.invokeHooks(e,function(){var b=a.router.globals;return b.lastStartedTransitionId=
a.$id,b.transition=a,b.transitionHistory.enqueue(a),B.traceTransitionStart(a),p.$q.when(void 0)}).then(function(){var b=a._hookBuilder.buildHooksForPhase(c.TransitionHookPhase.RUN);return N.invokeHooks(b,function(){return p.$q.when(void 0)})}).then(function(){B.traceSuccess(a.$to(),a);a.success=!0;a._deferred.resolve(a.to());b(a._hookBuilder.buildHooksForPhase(c.TransitionHookPhase.SUCCESS))},function(d){B.traceError(d,a);a.success=!1;a._deferred.reject(d);a._error=d;b(a._hookBuilder.buildHooksForPhase(c.TransitionHookPhase.ERROR))}),
this.promise},b.prototype.valid=function(){return!this.error()||void 0!==this.success},b.prototype.abort=function(){pa(this.success)&&(this._aborted=!0)},b.prototype.error=function(){var a=this.$to();if(a.self.abstract)return"Cannot transition to abstract state '"+a.name+"'";var b=a.parameters(),e=this.params();b=b.filter(function(a){return!a.validates(e[a.id])});return b.length?"Param values not valid for state '"+a.name+"'. Invalid params: [ "+b.map(function(a){return a.id}).join(", ")+" ]":!1===
this.success?this._error:void 0},b.prototype.toString=function(){var a=this.from(),b=this.to(),e=function(a){return null!==a["#"]&&void 0!==a["#"]?a:xa(a,["#"])};return"Transition#"+this.$id+"( '"+(O(a)?a.name:a)+"'"+M(e(this._treeChanges.from.map(x("paramValues")).reduce(Ra,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(O(b)?b.name:b)+"'"+M(e(this.params()))+" )"},b.diToken=b,b}(),cd=null,sd=function(b){var a=J.isRejectionPromise;return(cd=cd||Y([[ca(q),D("undefined")],[kb,D("null")],[va,D("[Promise]")],
[a,function(a){return a._transitionRejection.toString()}],[I(J),Ha("toString")],[I(Aa),Ha("toString")],[I(y),Ha("toString")],[H,cb],[D(!0),w]]))(b)},Wa=function(b){return function(a){if(!a)return["",""];var d=a.indexOf(b);return-1===d?[a,""]:[a.substr(0,d),a.substr(d+1)]}},dd=/^(?:[a-z]+:)?\/\/[^/]+\//,wb=function(b){return b.replace(/\/[^/]*$/,"")},fb=Wa("#"),gb=Wa("?"),fc=Wa("="),gc=function(b){return b?b.replace(/^#/,""):""},xb=function(){function b(){this.enqueue=!0;this.typeQueue=[];this.defaultTypes=
wa(b.prototype,"hash string query path int bool date json any".split(" "));this.types=ta(S(this.defaultTypes,function(a,b){return new Ua(m({name:b},a))}),{})}return b.prototype.dispose=function(){this.types={}},b.prototype.type=function(a,b,e){if(!q(b))return this.types[a];if(this.types.hasOwnProperty(a))throw Error("A type named '"+a+"' has already been defined.");return this.types[a]=new Ua(m({name:a},b)),e&&(this.typeQueue.push({name:a,def:e}),this.enqueue||this._flushTypeQueue()),this},b.prototype._flushTypeQueue=
function(){for(;this.typeQueue.length;){var a=this.typeQueue.shift();if(a.pattern)throw Error("You cannot override a type's .pattern at runtime.");m(this.types[a.name],p.$injector.invoke(a.def))}},b}();var ma=function(b){var a=function(a){return null!=a?a.toString():a};a={encode:a,decode:a,is:I(String),pattern:/.*/,equals:function(a,b){return a==b}};return m({},a,b)};m(xb.prototype,{string:ma({}),path:ma({pattern:/[^/]*/}),query:ma({}),hash:ma({inherit:!1}),int:ma({decode:function(b){return parseInt(b,
10)},is:function(b){return!lb(b)&&this.decode(b.toString())===b},pattern:/-?\d+/}),bool:ma({encode:function(b){return b?1:0},decode:function(b){return 0!==parseInt(b,10)},is:I(Boolean),pattern:/0|1/}),date:ma({encode:function(b){return this.is(b)?[b.getFullYear(),("0"+(b.getMonth()+1)).slice(-2),("0"+b.getDate()).slice(-2)].join("-"):void 0},decode:function(b){return this.is(b)?b:(b=this.capture.exec(b))?new Date(b[1],b[2]-1,b[3]):void 0},is:function(b){return b instanceof Date&&!isNaN(b.valueOf())},
equals:function(b,a){return["getFullYear","getMonth","getDate"].reduce(function(d,e){return d&&b[e]()===a[e]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:ma({encode:Zb,decode:Yb,is:I(Object),equals:Qa,pattern:/[^/]*/}),any:ma({encode:w,decode:w,is:function(){return!0},equals:Qa})});var hc=function(){function b(a){void 0===a&&(a={});m(this,a)}return b.prototype.$inherit=function(a,b,e){var d;b=Fb(b,
e);e={};var c=[],n;for(n in b)if(b[n]&&b[n].params&&(d=Object.keys(b[n].params)).length)for(var A in d)0<=c.indexOf(d[A])||(c.push(d[A]),e[d[A]]=this[d[A]]);return m({},e,a)},b}(),Nd=function(b,a){return function(d){d&&d.url&&d.name&&d.name.match(/\.\*\*$/)&&(d.url+="{remainder:any}");var e=function(a){if(!r(a))return!1;var b="^"===a.charAt(0);return{val:b?a.substring(1):a,root:b}}(d.url),c=d.parent,h=e?b.compile(e.val,{params:d.params||{},paramMap:function(a,b){return!1===d.reloadOnSearch&&b&&(a=
m(a||{},{dynamic:!0})),a}}):d.url;if(!h)return null;if(!b.isMatcher(h))throw Error("Invalid url '"+h+"' in state '"+d+"'");return e&&e.root?h:(c&&c.navigable||a()).url.append(h)}},Od=function(b){return function(a){return!b(a)&&a.url?a:a.parent?a.parent.navigable:null}},Pd=function(b){return function(a){var d=a.url&&a.url.parameters({inherit:!1})||[];a=aa(nb(xa(a.params||{},d.map(x("id"))),function(a,d){return b.fromConfig(d,null,a)}));return d.concat(a).map(function(a){return[a.id,a]}).reduce(ya,
{})}},ic=function(){function b(a,b){this.matcher=a;var d=this,c=function(){return a.find("")},h=function(a){return""===a.name};this.builders={name:[td],self:[ud],parent:[function(b){return h(b)?null:a.find(d.parentName(b))||c()}],data:[vd],url:[Nd(b,c)],navigable:[Od(h)],params:[Pd(b.paramFactory)],views:[],path:[wd],includes:[xd],resolvables:[Pb]}}return b.prototype.builder=function(a,b){var d=this.builders,c=d[a]||[];return r(a)&&!q(b)?1<c.length?c:c[0]:r(a)&&u(b)?(d[a]=c,d[a].push(b),function(){return d[a].splice(d[a].indexOf(b,
1))&&null}):void 0},b.prototype.build=function(a){var b=this.matcher,e=this.builders,c=this.parentName(a);if(c&&!b.find(c,void 0,!1))return null;for(var h in e)e.hasOwnProperty(h)&&(b=e[h].reduce(function(a,b){return function(d){return b(d,a)}},R),a[h]=b(a));return a},b.prototype.parentName=function(a){var b=a.name||"",e=b.split(".");if("**"===e.pop()&&e.pop(),e.length){if(a.parent)throw Error("States that specify the 'parent:' property should not have a '.' in their name ("+b+")");return e.join(".")}return a.parent?
r(a.parent)?a.parent:a.parent.name:""},b.prototype.name=function(a){var b=a.name;return-1===b.indexOf(".")&&a.parent?(a=r(a.parent)?a.parent:a.parent.name)?a+"."+b:b:b},b}(),jc=function(){function b(a){this._states=a}return b.prototype.isRelative=function(a){return 0===(a=a||"").indexOf(".")||0===a.indexOf("^")},b.prototype.find=function(a,b,e){if(void 0===e&&(e=!0),a||""===a){var d=r(a),c=d?a:a.name;this.isRelative(c)&&(c=this.resolvePath(c,b));if((b=this._states[c])&&(d||!(d||b!==a&&b.self!==a)))return b;
if(d&&e)return a=aa(this._states).filter(function(a){return a.__stateObjectCache.nameGlob&&a.__stateObjectCache.nameGlob.matches(c)}),1<a.length&&console.log("stateMatcher.find: Found multiple matches for "+c+" using glob: ",a.map(function(a){return a.name})),a[0]}},b.prototype.resolvePath=function(a,b){if(!b)throw Error("No reference point given for path '"+a+"'");var d=this.find(b),c=a.split("."),h=c.length,n=0;for(b=d;n<h;n++)if(""!==c[n]||0!==n){if("^"!==c[n])break;if(!b.parent)throw Error("Path '"+
a+"' not valid for state '"+d.name+"'");b=b.parent}else b=d;a=c.slice(n).join(".");return b.name+(b.name&&a?".":"")+a},b}(),kc=function(){function b(a,b,e,c,h){this.$registry=a;this.$urlRouter=b;this.states=e;this.builder=c;this.listeners=h;this.queue=[];this.matcher=a.matcher}return b.prototype.dispose=function(){this.queue=[]},b.prototype.register=function(a){var b=this.queue;a=ib.create(a);var e=a.name;if(!r(e))throw Error("State must have a valid name");if(this.states.hasOwnProperty(e)||U(b.map(x("name")),
e))throw Error("State '"+e+"' is already defined");return b.push(a),this.flush(),a},b.prototype.flush=function(){for(var a=this,b=this.queue,e=this.states,c=this.builder,h=[],n=[],f={},G=function(b){return a.states.hasOwnProperty(b)&&a.states[b]};0<b.length;){var z=b.shift(),k=z.name,l=c.build(z),m=n.indexOf(z);if(l){if((l=G(k))&&l.name===k)throw Error("State '"+k+"' is already defined");(l=G(k+".**"))&&this.$registry.deregister(l);e[k]=z;this.attachRoute(z);0<=m&&n.splice(m,1);h.push(z)}else{l=f[k];
if(f[k]=b.length,0<=m&&l===b.length)return b.push(z),e;0>m&&n.push(z);b.push(z)}}return h.length&&this.listeners.forEach(function(a){return a("registered",h.map(function(a){return a.self}))}),e},b.prototype.attachRoute=function(a){!a.abstract&&a.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(a))},b}(),lc=function(){function b(a){this._router=a;this.states={};this.listeners=[];this.matcher=new jc(this.states);this.builder=new ic(this.matcher,a.urlMatcherFactory);this.stateQueue=new kc(this,
a.urlRouter,this.states,this.builder,this.listeners);this._registerRoot()}return b.prototype._registerRoot=function(){(this._root=this.stateQueue.register({name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0})).navigable=null},b.prototype.dispose=function(){var a=this;this.stateQueue.dispose();this.listeners=[];this.get().forEach(function(b){return a.get(b)&&a.deregister(b)})},b.prototype.onStatesChanged=function(a){return this.listeners.push(a),function(){P(this.listeners)(a)}.bind(this)},
b.prototype.root=function(){return this._root},b.prototype.register=function(a){return this.stateQueue.register(a)},b.prototype._deregisterTree=function(a){var b=this,e=this.get().map(function(a){return a.$$state()}),c=function(a){var b=e.filter(function(b){return-1!==a.indexOf(b.parent)});return 0===b.length?b:b.concat(c(b))},h=c([a]);a=[a].concat(h).reverse();return a.forEach(function(a){var d=b._router.urlRouter;d.rules().filter(ka("state",a)).forEach(d.removeRule.bind(d));delete b.states[a.name]}),
a},b.prototype.deregister=function(a){var b=this.get(a);if(!b)throw Error("Can't deregister state; not found: "+a);var e=this._deregisterTree(b.$$state());return this.listeners.forEach(function(a){return a("deregistered",e.map(function(a){return a.self}))}),e},b.prototype.get=function(a,b){var d=this;if(0===arguments.length)return Object.keys(this.states).map(function(a){return d.states[a].self});var c=this.matcher.find(a,b);return c&&c.self||null},b.prototype.decorator=function(a,b){return this.builder.builder(a,
b)},b}(),Qd=Nb("/"),ra=function(){function b(a,d,e,c){var g=this;this.config=c;this._cache={path:[this]};this._children=[];this._params=[];this._segments=[];this._compiled=[];this.pattern=a;this.config=da(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:w});for(var n,f,k=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,z=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=[],m=0,q=function(d){if(!b.nameValidator.test(d))throw Error("Invalid parameter name '"+
d+"' in pattern '"+a+"'");if(ea(g._params,ka("id",d)))throw Error("Duplicate parameter name '"+d+"' in pattern '"+a+"'");},p=function(b,e){var c=b[2]||b[3],h=e?b[4]:b[4]||("*"===b[1]?"[\\s\\S]*":null);return{id:c,regexp:h,cfg:g.config.params[c],segment:a.substring(m,b.index),type:h?d.type(h)||ta(d.type(e?"query":"path"),{pattern:new RegExp(h,g.config.caseInsensitive?"i":void 0)}):null}};(n=k.exec(a))&&!(0<=(f=p(n,!1)).segment.indexOf("?"));)q(f.id),this._params.push(e.fromPath(f.id,f.type,this.config.paramMap(f.cfg,
!1))),this._segments.push(f.segment),l.push([f.segment,L(this._params)]),m=k.lastIndex;n=(c=a.substring(m)).indexOf("?");if(0<=n){var Wc=c.substring(n);if(c=c.substring(0,n),0<Wc.length)for(m=0;n=z.exec(Wc);)q((f=p(n,!0)).id),this._params.push(e.fromSearch(f.id,f.type,this.config.paramMap(f.cfg,!0))),m=k.lastIndex}this._segments.push(c);this._compiled=l.map(function(a){return Dc.apply(null,a)}).concat(Dc(c))}return b.encodeDashes=function(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+
a.charCodeAt(0).toString(16).toUpperCase()})},b.pathSegmentsAndParams=function(a){return oa(a._segments,a._params.filter(function(a){return a.location===c.DefType.PATH}).concat(void 0)).reduce(C,[]).filter(function(a){return""!==a&&q(a)})},b.queryParams=function(a){return a._params.filter(function(a){return a.location===c.DefType.SEARCH})},b.compare=function(a,d){var e=function(a){return a._cache.weights=a._cache.weights||function(a){return a._cache.segments=a._cache.segments||a._cache.path.map(b.pathSegmentsAndParams).reduce(C,
[]).reduce(Ob,[]).map(function(a){return r(a)?Qd(a):a}).reduce(C,[])}(a).map(function(a){return"/"===a?1:r(a)?2:a instanceof W?3:void 0})};a=e(a);d=e(d);!function(a,b,d){for(var e=Math.max(a.length,b.length);a.length<e;)a.push(d);for(;b.length<e;)b.push(d)}(a,d,0);a=oa(a,d);for(e=0;e<a.length;e++)if(0!==(d=a[e][0]-a[e][1]))return d;return 0},b.prototype.append=function(a){return this._children.push(a),a._cache={path:this._cache.path.concat(a),parent:this,pattern:null},a},b.prototype.isRoot=function(){return this._cache.path[0]===
this},b.prototype.toString=function(){return this.pattern},b.prototype.exec=function(a,b,e,c){var d=this;void 0===b&&(b={});void 0===c&&(c={});var g,f;a=(g=this._cache,f=function(){return new RegExp(["^",rb(d._cache.path.map(x("_compiled"))).join(""),!1===d.config.strict?"/?":"","$"].join(""),d.config.caseInsensitive?"i":void 0)},g.pattern=g.pattern||f()).exec(a);if(!a)return null;var k;f=this.parameters();g=f.filter(function(a){return!a.isSearch()});f=f.filter(function(a){return a.isSearch()});c=
this._cache.path.map(function(a){return a._segments.length-1}).reduce(function(a,b){return a+b});var z={};if(c!==a.length-1)throw Error("Unbalanced capture group in route '"+this.pattern+"'");for(var l=0;l<c;l++){for(var m=g[l],p=a[l+1],r=0;r<m.replace.length;r++)m.replace[r].from===p&&(p=m.replace[r].to);p&&!0===m.array&&(void 0,p=S(S((k=function(a){return a.split("").reverse().join("")})(p).split(/-(?!\\)/),k),function(a){return a.replace(/\\-/g,"-")}).reverse());q(p)&&(p=m.type.decode(p));z[m.id]=
m.value(p)}return f.forEach(function(a){for(var d=b[a.id],e=0;e<a.replace.length;e++)a.replace[e].from===d&&(d=a.replace[e].to);q(d)&&(d=a.type.decode(d));z[a.id]=a.value(d)}),e&&(z["#"]=e),z},b.prototype.parameters=function(a){return void 0===a&&(a={}),!1===a.inherit?this._params:rb(this._cache.path.map(function(a){return a._params}))},b.prototype.parameter=function(a,b){void 0===b&&(b={});var d=this._cache.parent;a:{var c=0;for(var h=this._params;c<h.length;c++){var n=h[c];if(n.id===a){c=n;break a}}c=
void 0}return c||!1!==b.inherit&&d&&d.parameter(a,b)||null},b.prototype.validates=function(a){return a=a||{},this.parameters().filter(function(b){return a.hasOwnProperty(b.id)}).map(function(b){return d=b,c=a[b.id],!d||d.validates(c);var d,c}).reduce(ob,!0)},b.prototype.format=function(a){function d(b){var d=b.value(a[b.id]),e=b.validates(d),c=b.isDefaultValue(d);return{param:b,value:d,isValid:e,isDefaultValue:c,squash:!!c&&b.squash,encoded:b.type.encode(d)}}void 0===a&&(a={});var e=this._cache.path,
c=e.map(b.pathSegmentsAndParams).reduce(C,[]).map(function(a){return r(a)?a:d(a)});e=e.map(b.queryParams).reduce(C,[]).map(d);if(c.concat(e).filter(function(a){return!1===a.isValid}).length)return null;c=c.reduce(function(a,d){if(r(d))return a+d;var e=d.squash,c=d.encoded;d=d.param;return!0===e?a.match(/\/$/)?a.slice(0,-1):a:r(e)?a+e:!1!==e?a:null==c?a:v(c)?a+S(c,b.encodeDashes).join("-"):d.raw?a+c:a+encodeURIComponent(c)},"");e=e.map(function(a){var b=a.param,d=a.squash,e=a.encoded;a=a.isDefaultValue;
if(!(null==e||a&&!1!==d)&&(v(e)||(e=[e]),0!==e.length))return b.raw||(e=S(e,encodeURIComponent)),e.map(function(a){return b.id+"="+a})}).filter(w).reduce(C,[]).join("&");return c+(e?"?"+e:"")+(a["#"]?"#"+a["#"]:"")},b.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,b}(),mc=function(){function b(){var a=this;this.paramTypes=new xb;this._isCaseInsensitive=!1;this._isStrictMode=!0;this._defaultSquashPolicy=!1;this.paramFactory={fromConfig:function(b,e,g){return new W(b,e,g,c.DefType.CONFIG,a)},fromPath:function(b,
e,g){return new W(b,e,g,c.DefType.PATH,a)},fromSearch:function(b,e,g){return new W(b,e,g,c.DefType.SEARCH,a)}};this._getConfig=function(b){return m({strict:a._isStrictMode,caseInsensitive:a._isCaseInsensitive},b)};m(this,{UrlMatcher:ra,Param:W})}return b.prototype.caseInsensitive=function(a){return this._isCaseInsensitive=q(a)?a:this._isCaseInsensitive},b.prototype.strictMode=function(a){return this._isStrictMode=q(a)?a:this._isStrictMode},b.prototype.defaultSquashPolicy=function(a){if(q(a)&&!0!==
a&&!1!==a&&!r(a))throw Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=q(a)?a:this._defaultSquashPolicy},b.prototype.compile=function(a,b){return new ra(a,this.paramTypes,this.paramFactory,this._getConfig(b))},b.prototype.isMatcher=function(a){if(!O(a))return!1;var b=!0;return ja(ra.prototype,function(d,c){u(d)&&(b=b&&q(a[c])&&u(a[c]))}),b},b.prototype.type=function(a,b,e){a=this.paramTypes.type(a,b,e);return q(b)?this:a},b.prototype.$get=
function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},b.prototype.dispose=function(){this.paramTypes.dispose()},b}(),yb=function(){function b(a){this.router=a}return b.prototype.compile=function(a){return this.router.urlMatcherFactory.compile(a)},b.prototype.create=function(a,b){var d=this,c=Y([[r,function(a){return c(d.compile(a))}],[I(ra),function(a){return d.fromUrlMatcher(a,b)}],[Wb,function(a){return d.fromState(a,d.router)}],[I(RegExp),function(a){return d.fromRegExp(a,
b)}],[u,function(a){return new Ea(a,b)}]]);a=c(a);if(!a)throw Error("invalid 'what' in when()");return a},b.prototype.fromUrlMatcher=function(a,b){var d=b;r(b)&&(b=this.router.urlMatcherFactory.compile(b));I(ra)(b)&&(d=function(a){return b.format(a)});var c={urlMatcher:a,matchPriority:function(b){var d=a.parameters().filter(function(a){return a.isOptional});return d.length?d.filter(function(a){return b[a.id]}).length/d.length:1E-6},type:"URLMATCHER"};return m(new Ea(function(b){b=a.exec(b.path,b.search,
b.hash);return a.validates(b)&&b},d),c)},b.prototype.fromState=function(a,b){var d={state:a,type:"STATE"};return m(this.fromUrlMatcher(a.url,function(d){var e=b.stateService,c=b.globals;e.href(a,d)!==e.href(c.current,c.params)&&e.transitionTo(a,d,{inherit:!0,source:"url"})}),d)},b.prototype.fromRegExp=function(a,b){if(a.global||a.sticky)throw Error("Rule RegExp must not be global or sticky");var d=r(b)?function(a){return b.replace(/\$(\$|\d{1,2})/,function(b,d){return a["$"===d?0:Number(d)]})}:b,
c={regexp:a,type:"REGEXP"};return m(new Ea(function(b){return a.exec(b.path)},d),c)},b.isUrlRule=function(a){return a&&["type","match","handler"].every(function(b){return q(a[b])})},b}(),Ea=function(){return function(b,a){var d=this;this.match=b;this.type="RAW";this.matchPriority=function(a){return 0-d.$id};this.handler=a||w}}();var Rd=function(b,a){var d=(a.priority||0)-(b.priority||0);return 0!==d?d:0!==(d=function(a,b){var d={STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1};return(d[a.type]||0)-(d[b.type]||
0)}(b,a))?d:0!==(d=b.urlMatcher&&a.urlMatcher?ra.compare(b.urlMatcher,a.urlMatcher):0)?d:function(a,b){var d={STATE:!0,URLMATCHER:!0};return d[a.type]&&d[b.type]?0:(a.$id||0)-(b.$id||0)}(b,a)};var nc=function(){function b(a){this._sortFn=Rd;this._rules=[];this.interceptDeferred=!1;this._id=0;this._sorted=!1;this._router=a;this.urlRuleFactory=new yb(a);F(D(b.prototype),this,D(this))}return b.prototype.dispose=function(){this.listen(!1);this._rules=[];delete this._otherwiseFn},b.prototype.sort=function(a){this._rules=
this.stableSort(this._rules,this._sortFn=a||this._sortFn);this._sorted=!0},b.prototype.ensureSorted=function(){this._sorted||this.sort()},b.prototype.stableSort=function(a,b){a=a.map(function(a,b){return{elem:a,idx:b}});return a.sort(function(a,d){var e=b(a.elem,d.elem);return 0===e?a.idx-d.idx:e}),a.map(function(a){return a.elem})},b.prototype.match=function(a){this.ensureSorted();a=m({path:"",search:{},hash:""},a);var b=this.rules();this._otherwiseFn&&b.push(this._otherwiseFn);for(var e,c,h,f=0;f<
b.length&&(!e||0===this._sortFn(b[f],e.rule));f++){var k=(c=b[f],void 0,(h=c.match(a,this._router))&&{match:h,rule:c,weight:c.matchPriority(h)});e=!e||k&&k.weight>e.weight?k:e}return e},b.prototype.sync=function(a){if(!a||!a.defaultPrevented){a=this._router;var b=a.urlService,e=a.stateService,c={path:b.path(),search:b.search(),hash:b.hash()},h=this.match(c);Y([[r,function(a){return b.url(a,!0)}],[Z.isDef,function(a){return e.go(a.state,a.params,a.options)}],[I(Z),function(a){return e.go(a.state(),
a.params(),a.options())}]])(h&&h.rule.handler(h.match,c,a))}},b.prototype.listen=function(a){var b=this;if(!1!==a)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(a){return b.sync(a)});this._stopFn&&this._stopFn();delete this._stopFn},b.prototype.update=function(a){var b=this._router.locationService;a?this.location=b.url():b.url()!==this.location&&b.url(this.location,!0)},b.prototype.push=function(a,b,e){e=e&&!!e.replace;this._router.urlService.url(a.format(b||{}),e)},b.prototype.href=
function(a,b,e){a=a.format(b);if(null==a)return null;e=e||{absolute:!1};b=this._router.urlService.config;var d=b.html5Mode();d||null===a||(a="#"+b.hashPrefix()+a);var c=a,f=e.absolute,k=b.baseHref();if(a="/"===k?c:d?wb(k)+c:f?k.slice(1)+c:c,!e.absolute||!a)return a;e=!d&&a?"/":"";d=b.port();d=80===d||443===d?"":":"+d;return[b.protocol(),"://",b.host(),d,e,a].join("")},b.prototype.rule=function(a){var b=this;if(!yb.isUrlRule(a))throw Error("invalid rule");return a.$id=this._id++,a.priority=a.priority||
0,this._rules.push(a),this._sorted=!1,function(){return b.removeRule(a)}},b.prototype.removeRule=function(a){P(this._rules,a)},b.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},b.prototype.otherwise=function(a){a=Ec(a);this._otherwiseFn=this.urlRuleFactory.create(D(!0),a);this._sorted=!1},b.prototype.initial=function(a){a=Ec(a);this.rule(this.urlRuleFactory.create(function(a,b){return 0===b.globals.transitionHistory.size()&&!!/^\/?$/.exec(a.path)},a))},b.prototype.when=
function(a,b,e){a=this.urlRuleFactory.create(a,b);return q(e&&e.priority)&&(a.priority=e.priority),this.rule(a),a},b.prototype.deferIntercept=function(a){void 0===a&&(a=!0);this.interceptDeferred=a},b}(),hb=function(){function b(){var a=this;this._uiViews=[];this._viewConfigs=[];this._viewConfigFactories={};this._listeners=[];this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return a._uiViews},_activeViewConfigs:function(){return a._viewConfigs},
_onSync:function(b){return a._listeners.push(b),function(){return P(a._listeners,b)}}}}return b.normalizeUIViewTarget=function(a,b){void 0===b&&(b="");var d=b.split("@");b=d[0]||"$default";d=r(d[1])?d[1]:"^";var c=/^(\^(?:\.\^)*)\.(.*$)/.exec(b);c&&(d=c[1],b=c[2]);"!"===b.charAt(0)&&(b=b.substr(1),d="");/^(\^(?:\.\^)*)$/.exec(d)?d=d.split(".").reduce(function(a,b){return a.parent},a).name:"."===d&&(d=a.name);return{uiViewName:b,uiViewContextAnchor:d}},b.prototype._rootViewContext=function(a){return this._rootContext=
a||this._rootContext},b.prototype._viewConfigFactory=function(a,b){this._viewConfigFactories[a]=b},b.prototype.createViewConfig=function(a,b){var d=this._viewConfigFactories[b.$type];if(!d)throw Error("ViewService: No view config factory registered for type "+b.$type);a=d(a,b);return v(a)?a:[a]},b.prototype.deactivateViewConfig=function(a){B.traceViewServiceEvent("<- Removing",a);P(this._viewConfigs,a)},b.prototype.activateViewConfig=function(a){B.traceViewServiceEvent("-> Registering",a);this._viewConfigs.push(a)},
b.prototype.sync=function(){function a(a){a=a.viewDecl.$context;for(var b=0;++b&&a.parent;)a=a.parent;return b}var d=this,e=this._uiViews.map(function(a){return[a.fqn,a]}).reduce(ya,{}),c=l(function(a,b,d,e){return b*(a(d)-a(e))}),h=this._uiViews.sort(c(function(a){var b=function(a){return a&&a.parent?b(a.parent)+1:1};return 1E4*a.fqn.split(".").length+b(a.creationContext)},1)).map(function(g){var h=d._viewConfigs.filter(b.matches(e,g));return 1<h.length&&h.sort(c(a,-1)),{uiView:g,viewConfig:h[0]}}),
f=h.map(function(a){return a.viewConfig}),k=this._viewConfigs.filter(function(a){return!U(f,a)}).map(function(a){return{uiView:void 0,viewConfig:a}});h.forEach(function(a){-1!==d._uiViews.indexOf(a.uiView)&&a.uiView.configUpdated(a.viewConfig)});var m=h.concat(k);this._listeners.forEach(function(a){return a(m)});B.traceViewSync(m)},b.prototype.registerUIView=function(a){B.traceViewServiceUIViewEvent("-> Registering",a);var b=this._uiViews;return b.filter(function(b){return b.fqn===a.fqn&&b.$type===
a.$type}).length&&B.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",a),b.push(a),this.sync(),function(){-1!==b.indexOf(a)?(B.traceViewServiceUIViewEvent("<- Deregistering",a),P(b)(a)):B.traceViewServiceUIViewEvent("Tried removing non-registered uiView",a)}},b.prototype.available=function(){return this._uiViews.map(x("fqn"))},b.prototype.active=function(){return this._uiViews.filter(x("$config")).map(x("name"))},b.matches=function(a,b){return function(d){if(b.$type!==d.viewDecl.$type)return!1;
d=d.viewDecl;var e=d.$uiViewName.split("."),c=b.fqn.split(".");if(!Qa(e,c.slice(0-e.length)))return!1;e=c.slice(0,1-e.length||void 0).join(".");e=a[e].creationContext;return d.$uiViewContextAnchor===(e&&e.name)}},b}(),oc=function(){function b(){this.params=new hc;this.lastStartedTransitionId=-1;this.transitionHistory=new Ta([],1);this.successfulTransitions=new Ta([],1)}return b.prototype.dispose=function(){this.transitionHistory.clear();this.successfulTransitions.clear();this.transition=null},b}(),
ed=function(b){return b.reduce(function(a,b){return a[b]=Xb(b),a},{dispose:R})},fd=["url","path","search","hash","onChange"],gd="port protocol host baseHref html5Mode hashPrefix".split(" "),Sd=["type","caseInsensitive","strictMode","defaultSquashPolicy"],Td="sort when initial otherwise rules rule removeRule".split(" "),Ud=["deferIntercept","listen","sync","match"],Xa=function(){function b(a,b){void 0===b&&(b=!0);this.router=a;this.rules={};this.config={};var d=function(){return a.locationService};
F(d,this,d,fd,b);d=function(){return a.locationConfig};F(d,this.config,d,gd,b);b=function(){return a.urlMatcherFactory};F(b,this.config,b,Sd);b=function(){return a.urlRouter};F(b,this.rules,b,Td);F(b,this,b,Ud)}return b.prototype.url=function(a,b,e){},b.prototype.path=function(){},b.prototype.search=function(){},b.prototype.hash=function(){},b.prototype.onChange=function(a){},b.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},b.prototype.dispose=function(){},
b.prototype.sync=function(a){},b.prototype.listen=function(a){},b.prototype.deferIntercept=function(a){},b.prototype.match=function(a){},b.locationServiceStub=ed(fd),b.locationConfigStub=ed(gd),b}(),Vd=0,eb=function(){function b(a,b){void 0===a&&(a=Xa.locationServiceStub);void 0===b&&(b=Xa.locationConfigStub);this.locationService=a;this.locationConfig=b;this.$id=Vd++;this._disposed=!1;this._disposables=[];this.trace=B;this.viewService=new hb;this.globals=new oc;this.transitionService=new pc(this);
this.urlMatcherFactory=new mc;this.urlRouter=new nc(this);this.stateRegistry=new lc(this);this.stateService=new qc(this);this.urlService=new Xa(this);this._plugins={};this.viewService._pluginapi._rootViewContext(this.stateRegistry.root());this.globals.$current=this.stateRegistry.root();this.globals.current=this.globals.$current.self;this.disposable(this.globals);this.disposable(this.stateService);this.disposable(this.stateRegistry);this.disposable(this.transitionService);this.disposable(this.urlRouter);
this.disposable(a);this.disposable(b)}return b.prototype.disposable=function(a){this._disposables.push(a)},b.prototype.dispose=function(a){var b=this;a&&u(a.dispose)?a.dispose(this):(this._disposed=!0,this._disposables.slice().forEach(function(a){try{"function"==typeof a.dispose&&a.dispose(b),P(b._disposables,a)}catch(g){}}))},b.prototype.plugin=function(a,b){void 0===b&&(b={});a=new a(this,b);if(!a.name)throw Error("Required property `name` missing on plugin: "+a);return this._disposables.push(a),
this._plugins[a.name]=a},b.prototype.getPlugin=function(a){return a?this._plugins[a]:aa(this._plugins)},b}(),Wd=U(["$transition$",Aa]),Xd=function(b){var a=function(a){return Wd(a.token)?y.fromData(a.token,null):a};aa(b.treeChanges()).reduce(C,[]).reduce(Ca,[]).forEach(function(b){b.resolvables=b.resolvables.map(a)})},Yd=function(b){function a(a){if(a)return a instanceof Z?a:r(a)?e.target(a,b.params(),b.options()):a.state||a.params?e.target(a.state||b.to(),a.params||b.params(),b.options()):void 0}
var d=b.to().redirectTo;if(d){var e=b.router.stateService;return u(d)?p.$q.when(d(b)).then(a):a(d)}},Zd=Qb("onExit"),$d=Qb("onRetain"),ae=Qb("onEnter"),be=function(b){return(new V(b.treeChanges().to)).resolvePath("EAGER",b).then(R)},ce=function(b,a){return(new V(b.treeChanges().to)).subContext(a.$$state()).resolvePath("LAZY",b).then(R)},de=function(b){return(new V(b.treeChanges().to)).resolvePath("LAZY",b).then(R)},ee=function(b){var a=p.$q;b=b.views("entering");if(b.length)return a.all(b.map(function(b){return a.when(b.load())})).then(R)},
fe=function(b){var a=b.views("entering"),d=b.views("exiting");if(a.length||d.length){var e=b.router.viewService;d.forEach(function(a){return e.deactivateViewConfig(a)});a.forEach(function(a){return e.activateViewConfig(a)});e.sync()}},ge=function(b){var a=b.router.globals,d=function(){a.transition===b&&(a.transition=null)};b.onSuccess({},function(){a.successfulTransitions.enqueue(b);a.$current=b.$to();a.current=a.$current.self;Gb(b.params(),a.params)},{priority:1E4});b.promise.then(d,d)},he=function(b){var a=
b.options(),d=b.router.stateService;b=b.router.urlRouter;"url"!==a.source&&a.location&&d.$current.navigable&&b.push(d.$current.navigable.url,d.params,{replace:"replace"===a.location});b.update(!0)},ie=function(b){var a=b.router,d=b.entering().filter(function(a){return!!a.$$state().lazyLoad}).map(function(a){return Fc(b,a)});return p.$q.all(d).then(function(){if("url"!==b.originalTransition().options().source){var d=b.targetState();return a.stateService.target(d.identifier(),d.params(),d.options())}d=
a.urlService;var c=(d=d.match(d.parts()))&&d.rule;if(c&&"STATE"===c.type)return a.stateService.target(c.state,d.match,b.options());a.urlService.sync()})},rc=function(){return function(b,a,d,c,g,h,f,k){void 0===g&&(g=!1);void 0===h&&(h=N.HANDLE_RESULT);void 0===f&&(f=N.REJECT_ERROR);void 0===k&&(k=!1);this.name=b;this.hookPhase=a;this.hookOrder=d;this.criteriaMatchPath=c;this.reverseSort=g;this.getResultHandler=h;this.getErrorHandler=f;this.synchronous=k}}(),zb={location:!0,relative:null,inherit:!1,
notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},pc=function(){function b(a){this._transitionCount=0;this._eventTypes=[];this._registeredHooks={};this._criteriaPaths={};this._router=a;this.$view=a.viewService;this._deregisterHookFns={};this._pluginapi=F(D(this),{},D(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]);this._defineCorePaths();this._defineCoreEvents();this._registerCoreTransitionHooks();a.globals.successfulTransitions.onEvict(Xd)}
return b.prototype.onCreate=function(a,b,c){},b.prototype.onBefore=function(a,b,c){},b.prototype.onStart=function(a,b,c){},b.prototype.onExit=function(a,b,c){},b.prototype.onRetain=function(a,b,c){},b.prototype.onEnter=function(a,b,c){},b.prototype.onFinish=function(a,b,c){},b.prototype.onSuccess=function(a,b,c){},b.prototype.onError=function(a,b,c){},b.prototype.dispose=function(a){aa(this._registeredHooks).forEach(function(a){return a.forEach(function(b){b._deregistered=!0;P(a,b)})})},b.prototype.create=
function(a,b){return new Aa(a,b,this._router)},b.prototype._defineCoreEvents=function(){var a=c.TransitionHookPhase,b=this._criteriaPaths;this._defineEvent("onCreate",a.CREATE,0,b.to,!1,N.LOG_REJECTED_RESULT,N.THROW_ERROR,!0);this._defineEvent("onBefore",a.BEFORE,0,b.to);this._defineEvent("onStart",a.RUN,0,b.to);this._defineEvent("onExit",a.RUN,100,b.exiting,!0);this._defineEvent("onRetain",a.RUN,200,b.retained);this._defineEvent("onEnter",a.RUN,300,b.entering);this._defineEvent("onFinish",a.RUN,
400,b.to);this._defineEvent("onSuccess",a.SUCCESS,0,b.to,!1,N.LOG_REJECTED_RESULT,N.LOG_ERROR,!0);this._defineEvent("onError",a.ERROR,0,b.to,!1,N.LOG_REJECTED_RESULT,N.LOG_ERROR,!0)},b.prototype._defineCorePaths=function(){var a=c.TransitionHookScope.STATE,b=c.TransitionHookScope.TRANSITION;this._definePathType("to",b);this._definePathType("from",b);this._definePathType("exiting",a);this._definePathType("retained",a);this._definePathType("entering",a)},b.prototype._defineEvent=function(a,b,c,g,h,
f,k,l){void 0===h&&(h=!1);void 0===f&&(f=N.HANDLE_RESULT);void 0===k&&(k=N.REJECT_ERROR);void 0===l&&(l=!1);a=new rc(a,b,c,g,h,f,k,l);this._eventTypes.push(a);ab(this,this,a)},b.prototype._getEvents=function(a){return(q(a)?this._eventTypes.filter(function(b){return b.hookPhase===a}):this._eventTypes.slice()).sort(function(a,b){var d=a.hookPhase-b.hookPhase;return 0===d?a.hookOrder-b.hookOrder:d})},b.prototype._definePathType=function(a,b){this._criteriaPaths[a]={name:a,scope:b}},b.prototype._getPathTypes=
function(){return this._criteriaPaths},b.prototype.getHooks=function(a){return this._registeredHooks[a]},b.prototype._registerCoreTransitionHooks=function(){var a=this._deregisterHookFns;a.addCoreResolves=this.onCreate({},yd);a.ignored=this.onBefore({},zd,{priority:-9999});a.invalid=this.onBefore({},Ad,{priority:-1E4});a.redirectTo=function(a){return a.onStart({to:function(a){return!!a.redirectTo}},Yd)}(this);a.onExit=function(a){return a.onExit({exiting:function(a){return!!a.onExit}},Zd)}(this);
a.onRetain=function(a){return a.onRetain({retained:function(a){return!!a.onRetain}},$d)}(this);a.onEnter=function(a){return a.onEnter({entering:function(a){return!!a.onEnter}},ae)}(this);a.eagerResolve=this.onStart({},be,{priority:1E3});a.lazyResolve=this.onEnter({entering:D(!0)},ce,{priority:1E3});a.resolveAll=this.onFinish({},de,{priority:1E3});a.loadViews=this.onFinish({},ee);a.activateViews=this.onSuccess({},fe);a.updateGlobals=this.onCreate({},ge);a.updateUrl=this.onSuccess({},he,{priority:9999});
a.lazyLoad=function(a){return a.onBefore({entering:function(a){return!!a.lazyLoad}},ie)}(this)},b}(),qc=function(){function b(a){this.router=a;this.invalidCallbacks=[];this._defaultErrorHandler=function(a){a instanceof Error&&a.stack?(console.error(a),console.error(a.stack)):a instanceof J?(console.error(a.toString()),a.detail&&a.detail.stack&&console.error(a.detail.stack)):console.error(a)};a=Object.keys(b.prototype).filter(ca(U(["current","$current","params","transition"])));F(D(b.prototype),this,
D(this),a)}return Object.defineProperty(b.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"$current",{get:function(){return this.router.globals.$current},
enumerable:!0,configurable:!0}),b.prototype.dispose=function(){this.defaultErrorHandler(R);this.invalidCallbacks=[]},b.prototype._handleInvalidTargetState=function(a,b){var d=this,c=X.makeTargetState(this.router.stateRegistry,a),h=this.router.globals,f=h.transitionHistory.peekTail(),k=new Ta(this.invalidCallbacks.slice()),l=(new V(a)).injector(),m=function(a){if(a instanceof Z)return(a=d.target(a.identifier(),a.params(),a.options())).valid()?h.transitionHistory.peekTail()!==f?J.superseded().toPromise():
d.transitionTo(a.identifier(),a.params(),a.options()):J.invalid(a.error()).toPromise()};return function ua(){var a=k.dequeue();return void 0===a?J.invalid(b.error()).toPromise():p.$q.when(a(b,c,l)).then(m).then(function(a){return a||ua()})}()},b.prototype.onInvalid=function(a){return this.invalidCallbacks.push(a),function(){P(this.invalidCallbacks)(a)}.bind(this)},b.prototype.reload=function(a){return this.transitionTo(this.current,this.params,{reload:!q(a)||a,inherit:!1,notify:!1})},b.prototype.go=
function(a,b,c){c=da(c,{relative:this.$current,inherit:!0},zb);return this.transitionTo(a,b,c)},b.prototype.target=function(a,b,c){if(void 0===c&&(c={}),O(c.reload)&&!c.reload.name)throw Error("Invalid reload state object");var d=this.router.stateRegistry;if(c.reloadState=!0===c.reload?d.root():d.matcher.find(c.reload,c.relative),c.reload&&!c.reloadState)throw Error("No such reload state '"+(r(c.reload)?c.reload:c.reload.name)+"'");return new Z(this.router.stateRegistry,a,b,c)},b.prototype.getCurrentPath=
function(){var a=this.router.globals.successfulTransitions.peekTail();return a?a.treeChanges().to:[new Va(this.router.stateRegistry.root())]},b.prototype.transitionTo=function(a,b,e){var d=this;void 0===b&&(b={});void 0===e&&(e={});var h=this.router,f=h.globals;e=da(e,zb);e=m(e,{current:function(){return f.transition}});a=this.target(a,b,e);b=this.getCurrentPath();if(!a.exists())return this._handleInvalidTargetState(b,a);if(!a.valid())return Sa(a.error());var k=function(a){return function(b){if(b instanceof
J){var e=h.globals.lastStartedTransitionId===a.$id;if(b.type===c.RejectType.IGNORED)return e&&h.urlRouter.update(),p.$q.when(f.current);var g=b.detail;if(b.type===c.RejectType.SUPERSEDED&&b.redirected&&g instanceof Z)return b=a.redirect(g),b.run().catch(k(b));if(b.type===c.RejectType.ABORTED)return e&&h.urlRouter.update(),p.$q.reject(b)}return d.defaultErrorHandler()(b),p.$q.reject(b)}};a=this.router.transitionService.create(b,a);b=a.run().catch(k(a));return sb(b),m(b,{transition:a})},b.prototype.is=
function(a,b,c){c=da(c,{relative:this.$current});a=this.router.stateRegistry.matcher.find(a,c.relative);if(q(a)){if(this.$current!==a)return!1;if(!b)return!0;a=a.parameters({inherit:!0,matchingKeys:b});return W.equals(a,W.values(a,b),this.params)}},b.prototype.includes=function(a,b,c){c=da(c,{relative:this.$current});var d=r(a)&&Ma.fromString(a);if(d){if(!d.matches(this.$current.name))return!1;a=this.$current.name}a=this.router.stateRegistry.matcher.find(a,c.relative);c=this.$current.includes;if(q(a)){if(!q(c[a.name]))return!1;
if(!b)return!0;a=a.parameters({inherit:!0,matchingKeys:b});return W.equals(a,W.values(a,b),this.params)}},b.prototype.href=function(a,b,c){c=da(c,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current});b=b||{};a=this.router.stateRegistry.matcher.find(a,c.relative);if(!q(a))return null;c.inherit&&(b=this.params.$inherit(b,this.$current,a));return(a=a&&c.lossy?a.navigable:a)&&void 0!==a.url&&null!==a.url?this.router.urlRouter.href(a.url,b,{absolute:c.absolute}):null},b.prototype.defaultErrorHandler=
function(a){return this._defaultErrorHandler=a||this._defaultErrorHandler},b.prototype.get=function(a,b){var d=this.router.stateRegistry;return 0===arguments.length?d.get():d.get(a,b||this.$current)},b.prototype.lazyLoad=function(a,b){var d=this.get(a);if(!d||!d.lazyLoad)throw Error("Can not lazy load "+a);a=this.getCurrentPath();var c=X.makeTargetState(this.router.stateRegistry,a);return Fc(b||this.router.transitionService.create(a,c),d)},b}(),Pa={when:function(b){return new Promise(function(a,d){return a(b)})},
reject:function(b){return new Promise(function(a,d){d(b)})},defer:function(){var b={};return b.promise=new Promise(function(a,d){b.resolve=a;b.reject=d}),b},all:function(b){if(v(b))return Promise.all(b);if(O(b)){var a=Object.keys(b).map(function(a){return b[a].then(function(b){return{key:a,val:b}})});return Pa.all(a).then(function(a){return a.reduce(function(a,b){return a[b.key]=b.val,a},{})})}}},hd={},je=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ke=/([^\s,]+)/g,Ba={get:function(b){return hd[b]},has:function(b){return null!=
Ba.get(b)},invoke:function(b,a,d){var c=m({},hd,d||{});d=Ba.annotate(b);var g=na(function(a){return c.hasOwnProperty(a)},function(a){return"DI can't find injectable: '"+a+"'"});d=d.filter(g).map(function(a){return c[a]});return u(b)?b.apply(a,d):b.slice(-1)[0].apply(a,d)},annotate:function(b){if(!H(b))throw Error("Not an injectable function: "+b);if(b&&b.$inject)return b.$inject;if(v(b))return b.slice(0,-1);b=b.toString().replace(je,"");return b.slice(b.indexOf("(")+1,b.indexOf(")")).match(ke)||[]}},
sc=function(b,a){var d=a[0];a=a[1];return b.hasOwnProperty(d)?v(b[d])?b[d].push(a):b[d]=[b[d],a]:b[d]=a,b},tc=function(b){return b.split("&").filter(w).map(fc).reduce(sc,{})},uc=function(b){var a=b.path(),d=b.search();b=b.hash();var c=Object.keys(d).map(function(a){var b=d[a];return(v(b)?b:[b]).map(function(b){return a+"="+b})}).reduce(C,[]).join("&");return a+(c?"?"+c:"")+(b?"#"+b:"")},id,Ya=function(){function b(a,b){var d=this;this.fireAfterUpdate=b;this._listeners=[];this._listener=function(a){return d._listeners.forEach(function(b){return b(a)})};
this.hash=function(){return Na(d._get()).hash};this.path=function(){return Na(d._get()).path};this.search=function(){return tc(Na(d._get()).search)};this._location=la.location;this._history=la.history}return b.prototype.url=function(a,b){return void 0===b&&(b=!0),q(a)&&a!==this._get()&&(this._set(null,null,a,b),this.fireAfterUpdate&&this._listeners.forEach(function(b){return b({url:a})})),uc(this)},b.prototype.onChange=function(a){var b=this;return this._listeners.push(a),function(){return P(b._listeners,
a)}},b.prototype.dispose=function(a){ac(this._listeners)},b}(),le=(id=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d])},function(b,a){function d(){this.constructor=b}id(b,a);b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}),vc=function(b){function a(a){a=b.call(this,a,!1)||this;return la.addEventListener("hashchange",a._listener,!1),a}return le(a,b),a.prototype._get=function(){return gc(this._location.hash)},
a.prototype._set=function(a,b,c,f){this._location.hash=c},a.prototype.dispose=function(a){b.prototype.dispose.call(this,a);la.removeEventListener("hashchange",this._listener)},a}(Ya),me=function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return function(a,d){function c(){this.constructor=a}b(a,d);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}(),wc=function(b){function a(a){return b.call(this,
a,!0)||this}return me(a,b),a.prototype._get=function(){return this._url},a.prototype._set=function(a,b,c,f){this._url=c},a}(Ya),ne=function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};return function(a,d){function c(){this.constructor=a}b(a,d);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)}}(),xc=function(b){function a(a){var d=b.call(this,a,!0)||this;return d._config=
a.urlService.config,la.addEventListener("popstate",d._listener,!1),d}return ne(a,b),a.prototype._getBasePrefix=function(){return wb(this._config.baseHref())},a.prototype._get=function(){var a=this._location,b=a.pathname,c=a.hash;a=a.search;a=gb(a)[1];c=fb(c)[1];var f=this._getBasePrefix(),k=b===this._config.baseHref(),l=b.substr(0,f.length)===f;return(k?"/":l?b.substring(f.length):b)+(a?"?"+a:"")+(c?"#"+c:"")},a.prototype._set=function(a,b,c,f){var d=this._getBasePrefix(),e=c&&"/"!==c[0]?"/":"";c=
""===c||"/"===c?this._config.baseHref():d+e+c;f?this._history.replaceState(a,b,c):this._history.pushState(a,b,c)},a.prototype.dispose=function(a){b.prototype.dispose.call(this,a);la.removeEventListener("popstate",this._listener)},a}(Ya),yc=function(){return function(){var b=this;this.dispose=R;this._baseHref="";this._port=80;this._protocol="http";this._host="localhost";this._hashPrefix="";this.port=function(){return b._port};this.protocol=function(){return b._protocol};this.host=function(){return b._host};
this.baseHref=function(){return b._baseHref};this.html5Mode=function(){return!1};this.hashPrefix=function(a){return q(a)?b._hashPrefix=a:b._hashPrefix}}}(),Ab=function(){function b(a,b){void 0===b&&(b=!1);this._isHtml5=b;this._baseHref=void 0;this._hashPrefix=""}return b.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},b.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},b.prototype.host=function(){return location.hostname},
b.prototype.html5Mode=function(){return this._isHtml5},b.prototype.hashPrefix=function(a){return q(a)?this._hashPrefix=a:this._hashPrefix},b.prototype.baseHref=function(a){return q(a)?this._baseHref=a:q(this._baseHref)?this._baseHref:this.applyDocumentBaseHref()},b.prototype.applyDocumentBaseHref=function(){var a=document.getElementsByTagName("base")[0];return this._baseHref=a?a.href.substr(location.origin.length):location.pathname||"/"},b.prototype.dispose=function(){},b}(),jd=Oa("vanilla.hashBangLocation",
!1,vc,Ab),kd=Oa("vanilla.pushStateLocation",!0,xc,Ab),ld=Oa("vanilla.memoryLocation",!1,wc,yc),md=function(){function b(){}return b.prototype.dispose=function(a){},b}(),oe=Object.freeze({root:la,fromJson:Yb,toJson:Zb,forEach:ja,extend:m,equals:Qa,identity:w,noop:R,createProxyFunctions:F,inherit:ta,inArray:U,_inArray:Db,removeFrom:P,_removeFrom:Eb,pushTo:$b,_pushTo:Ia,deregAll:ac,defaults:da,mergeR:Ra,ancestors:Fb,pick:wa,omit:xa,pluck:Ac,filter:Ja,find:ea,mapObj:nb,map:S,values:aa,allTrueR:ob,anyTrueR:pb,
unnestR:C,flattenR:qb,pushR:Ka,uniqR:Ca,unnest:rb,flatten:$c,assertPredicate:na,assertMap:na,assertFn:na,pairs:ad,arrayTuples:oa,applyPairs:ya,tail:L,copy:Gb,_extend:Hb,silenceUncaughtInPromise:sb,silentRejection:Sa,notImplemented:Xb,services:p,Glob:Ma,curry:l,compose:t,pipe:k,prop:x,propEq:ka,parse:Q,not:ca,and:T,or:Ga,all:za,any:Jb,is:I,eq:Yc,val:D,invoke:Ha,pattern:Y,isUndefined:pa,isDefined:q,isNull:kb,isNullOrUndefined:lb,isFunction:u,isNumber:Kb,isString:r,isObject:O,isArray:v,isDate:Za,isRegExp:$a,
isState:Wb,isInjectable:H,isPromise:va,Queue:Ta,maxLength:sa,padString:Mb,kebobString:bb,functionToString:cb,fnToString:db,stringify:M,beforeAfterSubstr:Wa,hostRegex:dd,stripLastPathElement:wb,splitHash:fb,splitQuery:gb,splitEqual:fc,trimHashVal:gc,splitOnDelim:Nb,joinNeighborsR:Ob,get Category(){return c.Category},Trace:bc,trace:B,get DefType(){return c.DefType},Param:W,ParamTypes:xb,StateParams:hc,ParamType:Ua,PathNode:Va,PathUtils:X,resolvePolicies:vb,defaultResolvePolicy:ub,Resolvable:y,NATIVE_INJECTOR_TOKEN:"Native Injector",
ResolveContext:V,resolvablesBuilder:Pb,StateBuilder:ic,StateObject:ib,StateMatcher:jc,StateQueueManager:kc,StateRegistry:lc,StateService:qc,TargetState:Z,get TransitionHookPhase(){return c.TransitionHookPhase},get TransitionHookScope(){return c.TransitionHookScope},HookBuilder:cc,matchState:La,RegisteredHook:Lb,makeEvent:ab,get RejectType(){return c.RejectType},Rejection:J,Transition:Aa,TransitionHook:N,TransitionEventType:rc,defaultTransOpts:zb,TransitionService:pc,UrlMatcher:ra,UrlMatcherFactory:mc,
UrlRouter:nc,UrlRuleFactory:yb,BaseUrlRule:Ea,UrlService:Xa,ViewService:hb,UIRouterGlobals:oc,UIRouter:eb,$q:Pa,$injector:Ba,BaseLocationServices:Ya,HashLocationService:vc,MemoryLocationService:wc,PushStateLocationService:xc,MemoryLocationConfig:yc,BrowserLocationConfig:Ab,keyValsToObjectR:sc,getParams:tc,parseUrl:Na,buildUrl:uc,locationPluginFactory:Oa,servicesPlugin:Gc,hashLocationPlugin:jd,pushStateLocationPlugin:kd,memoryLocationPlugin:ld,UIRouterPluginBase:md}),Sb=function(b,a){return b.reduce(function(b,
c){return b||q(a[c])},!1)},pe=0,Rb=function(){function b(a,b,c){var d=this;this.path=a;this.viewDecl=b;this.factory=c;this.$id=pe++;this.loaded=!1;this.getTemplate=function(a,b){return d.component?d.factory.makeComponentTemplate(a,b,d.component,d.viewDecl.bindings):d.template}}return b.prototype.load=function(){var a=this,b=p.$q,c=new V(this.path),g=this.path.reduce(function(a,b){return m(a,b.paramValues)},{});c={template:b.when(this.factory.fromConfig(this.viewDecl,g,c)),controller:b.when(this.getController(c))};
return b.all(c).then(function(b){return B.traceViewServiceEvent("Loaded",a),a.controller=b.controller,m(a,b.template),a})},b.prototype.getController=function(a){var b=this.viewDecl.controllerProvider;if(!H(b))return this.viewDecl.controller;var c=p.$injector.annotate(b);b=v(b)?L(b):b;return(new y("",b,c)).get(a)},b}(),re=function(){function b(){var a=this;this._useHttp=3>K.version.minor;this.$get=["$http","$templateCache","$injector",function(b,c,g){return a.$templateRequest=g.has&&g.has("$templateRequest")&&
g.get("$templateRequest"),a.$http=b,a.$templateCache=c,a}]}return b.prototype.useHttpService=function(a){this._useHttp=a},b.prototype.fromConfig=function(a,b,c){var d=function(a){return p.$q.when(a).then(function(a){return{template:a}})},e=function(a){return p.$q.when(a).then(function(a){return{component:a}})};return q(a.template)?d(this.fromString(a.template,b)):q(a.templateUrl)?d(this.fromUrl(a.templateUrl,b)):q(a.templateProvider)?d(this.fromProvider(a.templateProvider,b,c)):q(a.component)?e(a.component):
q(a.componentProvider)?e(this.fromComponentProvider(a.componentProvider,b,c)):d("<ui-view></ui-view>")},b.prototype.fromString=function(a,b){return u(a)?a(b):a},b.prototype.fromUrl=function(a,b){return u(a)&&(a=a(b)),null==a?null:this._useHttp?this.$http.get(a,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(a){return a.data}):this.$templateRequest(a)},b.prototype.fromProvider=function(a,b,c){b=p.$injector.annotate(a);a=v(a)?L(a):a;return(new y("",a,b)).get(c)},b.prototype.fromComponentProvider=
function(a,b,c){b=p.$injector.annotate(a);a=v(a)?L(a):a;return(new y("",a,b)).get(c)},b.prototype.makeComponentTemplate=function(a,b,c,g){g=g||{};var d=3<=K.version.minor?"::":"",e=function(a){a=bb(a);return/^(x|data)-/.exec(a)?"x-"+a:a},f=function(a){var b=p.$injector.get(a+"Directive");if(!b||!b.length)throw Error("Unable to find component named '"+a+"'");return b.map(qe).reduce(C,[])}(c).map(function(c){var f=c.name,h=c.type;c=e(f);if(a.attr(c)&&!g[f])return c+"='"+a.attr(c)+"'";f=g[f]||f;if("@"===
h)return c+"='{{"+d+"$resolve."+f+"}}'";if("&"===h){var k=(h=(h=b.getResolvable(f))&&h.data)&&p.$injector.annotate(h)||[];return c+"='$resolve."+f+(v(h)?"["+(h.length-1)+"]":"")+"("+k.join(",")+")'"}return c+"='"+d+"$resolve."+f+"'"}).join(" ");c=e(c);return"<"+c+" "+f+"></"+c+">"},b}(),qe=function(b){return O(b.bindToController)?nd(b.bindToController):nd(b.scope)},nd=function(b){return Object.keys(b||{}).map(function(a){return[a,/^([=<@&])[?]?(.*)/.exec(b[a])]}).filter(function(a){return q(a)&&v(a[1])}).map(function(a){return{name:a[1][2]||
a[0],type:a[1][1]}})},Kc=function(){function b(a,d){this.stateRegistry=a;this.stateService=d;F(D(b.prototype),this,D(this))}return b.prototype.decorator=function(a,b){return this.stateRegistry.decorator(a,b)||this},b.prototype.state=function(a,b){return O(a)?b=a:b.name=a,this.stateRegistry.register(b),this},b.prototype.onInvalid=function(a){return this.stateService.onInvalid(a)},b}(),Tb=function(b){return function(a,d){var c=a[b],f="onExit"===b?"from":"to";return c?function(a,b){var d=(new V(a.treeChanges(f))).subContext(b.$$state());
a=m(Vb(d),{$state$:b,$transition$:a});return p.$injector.invoke(c,this,a)}:void 0}},Lc=function(){function b(a){this._urlListeners=[];this.$locationProvider=a;a=D(a);F(a,this,a,["hashPrefix"])}return b.monkeyPatchPathParameterType=function(a){a=a.urlMatcherFactory.type("path");a.encode=function(a){return null!=a?a.toString().replace(/(~|\/)/g,function(a){return{"~":"~~","/":"~2F"}[a]}):a};a.decode=function(a){return null!=a?a.toString().replace(/(~~|~2F)/g,function(a){return{"~~":"~","~2F":"/"}[a]}):
a}},b.prototype.dispose=function(){},b.prototype.onChange=function(a){var b=this;return this._urlListeners.push(a),function(){return P(b._urlListeners)(a)}},b.prototype.html5Mode=function(){var a=this.$locationProvider.html5Mode();return(O(a)?a.enabled:a)&&this.$sniffer.history},b.prototype.url=function(a,b,c){return void 0===b&&(b=!1),q(a)&&this.$location.url(a),b&&this.$location.replace(),c&&this.$location.state(c),this.$location.url()},b.prototype._runtimeServices=function(a,b,c,f){var d=this;
this.$location=b;this.$sniffer=c;a.$on("$locationChangeSuccess",function(a){return d._urlListeners.forEach(function(b){return b(a)})});a=D(b);f=D(f);F(a,this,a,["replace","path","search","hash"]);F(a,this,a,["port","protocol","host"]);F(f,this,f,["baseHref"])},b}(),od=function(){function b(a){this._router=a;this._urlRouter=a.urlRouter}return b.injectableHandler=function(a,b){return function(c){return p.$injector.invoke(b,null,{$match:c,$stateParams:a.globals.params})}},b.prototype.$get=function(){var a=
this._urlRouter;return a.update(!0),a.interceptDeferred||a.listen(),a},b.prototype.rule=function(a){var b=this;if(!u(a))throw Error("'rule' must be a function");var c=new Ea(function(){return a(p.$injector,b._router.locationService)},w);return this._urlRouter.rule(c),this},b.prototype.otherwise=function(a){var b=this,c=this._urlRouter;if(r(a))c.otherwise(a);else{if(!u(a))throw Error("'rule' must be a string or function");c.otherwise(function(){return a(p.$injector,b._router.locationService)})}return this},
b.prototype.when=function(a,c){return(v(c)||u(c))&&(c=b.injectableHandler(this._router,c)),this._urlRouter.when(a,c),this},b.prototype.deferIntercept=function(a){this._urlRouter.deferIntercept(a)},b}();K.module("ui.router.angular1",[]);var pd=K.module("ui.router.init",[]),Bb=K.module("ui.router.util",["ng","ui.router.init"]),qd=K.module("ui.router.router",["ui.router.util"]),Fa=K.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),zc=K.module("ui.router",["ui.router.init",
"ui.router.state","ui.router.angular1"]),E=(K.module("ui.router.compat",["ui.router"]),null);Jc.$inject=["$locationProvider"];var Cb=function(b){return["$uiRouterProvider",function(a){var c=a.router[b];return c.$get=function(){return c},c}]};Mc.$inject=["$injector","$q","$uiRouter"];Ub.$inject=["$rootScope"];pd.provider("$uiRouter",Jc);qd.provider("$urlRouter",["$uiRouterProvider",function(b){return b.urlRouterProvider=new od(b)}]);Bb.provider("$urlService",Cb("urlService"));Bb.provider("$urlMatcherFactory",
["$uiRouterProvider",function(){return E.urlMatcherFactory}]);Bb.provider("$templateFactory",function(){return new re});Fa.provider("$stateRegistry",Cb("stateRegistry"));Fa.provider("$uiRouterGlobals",Cb("globals"));Fa.provider("$transitions",Cb("transitionService"));Fa.provider("$state",["$uiRouterProvider",function(){return m(E.stateProvider,{$get:function(){return E.stateService}})}]);Fa.factory("$stateParams",["$uiRouter",function(b){return b.globals.params}]);zc.factory("$view",function(){return E.viewService});
zc.service("$trace",function(){return B});zc.run(Ub);Bb.run(["$urlMatcherFactory",function(b){}]);Fa.run(["$state",function(b){}]);qd.run(["$urlRouter",function(b){}]);pd.run(Mc);var Vb=function(b){return b.getTokens().filter(r).map(function(a){var c=b.getResolvable(a);return[a,"NOWAIT"===b.getPolicy(c).async?c.promise:c.data]}).reduce(ya,{})};var rd=["$state","$stateParams","$interpolate","$uiRouter",function(b,a,c,e){return{restrict:"A",controller:["$scope","$element","$attrs",function(a,d,f){function g(a){a.promise.then(l,
R)}function h(b){O(b)&&(q=[],ja(b,function(b,c){var d=function(b,c){b=Nc(b);k(b.state,a.$eval(b.paramExpr),c)};r(b)?d(b,c):v(b)&&ja(b,function(a){d(a,c)})}))}function k(a,c,e){var f={state:b.get(a,Oc(d))||{name:a},params:c,activeClass:e};return q.push(f),function(){P(q)(f)}}function l(){var c=function(a){return a.split(/\s/).filter(w)},e=function(a){return a.map(function(a){return a.activeClass}).map(c).reduce(C,[])},f=e(q).concat(c(u)).reduce(Ca,[]);e=e(q.filter(function(a){return b.includes(a.state.name,
a.params)}));var g=q.filter(function(a){return b.is(a.state.name,a.params)}).length?c(u):[],h=e.concat(g).reduce(Ca,[]),k=f.filter(function(a){return!U(h,a)});a.$evalAsync(function(){h.forEach(function(a){return d.addClass(a)});k.forEach(function(a){return d.removeClass(a)})})}var n,m,p,q=[];var u=c(f.uiSrefActiveEq||"",!1)(a);try{var t=a.$eval(f.uiSrefActive)}catch(se){}h(t=t||c(f.uiSrefActive||"",!1)(a));this.$$addStateInfo=function(a,b){if(!(O(t)&&0<q.length))return a=k(a,b,t),l(),a};a.$on("$destroy",
(n=e.stateRegistry.onStatesChanged(function(){h(t)}),m=e.transitionService.onStart({},g),p=a.$on("$stateChangeSuccess",l),function(){n();m();p()}));e.globals.transition&&g(e.globals.transition);l()}]}}];K.module("ui.router.state").directive("uiSref",["$uiRouter","$timeout",function(b,a){var c=b.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,f,h,k){function e(){var a=r();p&&p();n&&(p=n.$$addStateInfo(a.uiState,a.uiStateParams));null!=a.href&&h.$set(l.attr,
a.href)}var g,l=Qc(f),n=k[1]||k[0],p=null,q={},r=function(){return Pc(c,f,q)};k=Nc(h.uiSref);q.uiState=k.state;q.uiStateOpts=h.uiSrefOpts?d.$eval(h.uiSrefOpts):{};k.paramExpr&&(d.$watch(k.paramExpr,function(a){q.uiStateParams=m({},a);e()},!0),q.uiStateParams=m({},d.$eval(k.paramExpr)));e();d.$on("$destroy",b.stateRegistry.onStatesChanged(e));d.$on("$destroy",b.transitionService.onSuccess({},e));l.clickable&&(g=Rc(f,c,a,l,r),Sc(f,d,g,q.uiStateOpts))}}}]).directive("uiSrefActive",rd).directive("uiSrefActiveEq",
rd).directive("uiState",["$uiRouter","$timeout",function(b,a){var c=b.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,f,h,k){function e(){var a=q();n&&n();m&&(n=m.$$addStateInfo(a.uiState,a.uiStateParams));null!=a.href&&h.$set(l.attr,a.href)}var g,l=Qc(f),m=k[1]||k[0],n=null,p={},q=function(){return Pc(c,f,p)};k=["uiState","uiStateParams","uiStateOpts"];var r=k.reduce(function(a,b){return a[b]=R,a},{});k.forEach(function(a){p[a]=h[a]?d.$eval(h[a]):null;
h.$observe(a,function(b){r[a]();r[a]=d.$watch(b,function(b){p[a]=b;e()},!0)})});e();d.$on("$destroy",b.stateRegistry.onStatesChanged(e));d.$on("$destroy",b.transitionService.onSuccess({},e));l.clickable&&(g=Rc(f,c,a,l,q),Sc(f,d,g,p.uiStateOpts))}}}]);Tc.$inject=["$state"];Uc.$inject=["$state"];K.module("ui.router.state").filter("isState",Tc).filter("includedByState",Uc);Vc.$inject="$compile $controller $transitions $view $q $timeout".split(" ");var Bd="function"==typeof K.module("ui.router").component,
Cd=0;K.module("ui.router.state").directive("uiView",["$view","$animate","$uiViewScroll","$interpolate","$q",function(b,a,c,e,f){var d={$cfg:{viewDecl:{$context:b._pluginapi._rootViewContext()}},$uiView:{}},g={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(h,k,l){return function(h,k,m){function n(a){var b=h.$new(),d=f.defer(),e=f.defer(),g={$cfg:a,$uiView:y},m={$animEnter:d.promise,$animLeave:e.promise,$$animLeave:e};b.$emit("$viewContentLoading",A);r=l(b,function(a){a.data("$uiViewAnim",
m);a.data("$uiView",g);z.enter(a,k,function(){d.resolve();t&&t.$emit("$viewContentAnimationEnded");(q(x)&&!x||h.$eval(x))&&c(a)});(function(){if(p&&(B.traceUIViewEvent("Removing (previous) el",p.data("$uiView")),p.remove(),p=null),t&&(B.traceUIViewEvent("Destroying scope",y),t.$destroy(),t=null),r){var a=r.data("$uiViewAnim");B.traceUIViewEvent("Animate out",a);z.leave(r,function(){a.$$animLeave.resolve();p=null});p=r;r=null}})()});(t=b).$emit("$viewContentLoaded",a||u);t.$eval(v)}var p,r,t,u,v=m.onload||
"",x=m.autoscroll,z={enter:function(b,c,d){2<K.version.minor?a.enter(b,null,c).then(d):a.enter(b,null,c,d)},leave:function(b,c){2<K.version.minor?a.leave(b).then(c):a.leave(b,c)}},w=k.inheritedData("$uiView")||d,A=e(m.uiView||m.name||"")(h)||"$default",y={$type:"ng1",id:g.count++,name:A,fqn:w.$uiView.fqn?w.$uiView.fqn+"."+A:A,config:null,configUpdated:function(a){if(!a||a instanceof Rb)if(b=u,c=a,b!==c){var b,c;B.traceUIViewConfigUpdated(y,a&&a.viewDecl&&a.viewDecl.$context);u=a;n(a)}},get creationContext(){var a=
Q("$cfg.viewDecl.$context")(w),b=Q("$uiView.creationContext")(w);return a||b}};B.traceUIViewEvent("Linking",y);k.data("$uiView",{$uiView:y});n();var C=b.registerUIView(y);h.$on("$destroy",function(){B.traceUIViewEvent("Destroying/Unregistering",y);C()})}}};return g}]);K.module("ui.router.state").directive("uiView",Vc);K.module("ui.router.state").provider("$uiViewScroll",function(){var b=!1;this.useAnchorScroll=function(){b=!0};this.$get=["$anchorScroll","$timeout",function(a,c){return b?a:function(a){return c(function(){a[0].scrollIntoView()},
0,!1)}}]});c.default="ui.router";c.core=oe;c.watchDigests=Ub;c.getLocals=Vb;c.getNg1ViewConfigFactory=Hc;c.ng1ViewsBuilder=Ic;c.Ng1ViewConfig=Rb;c.StateProvider=Kc;c.UrlRouterProvider=od;c.root=la;c.fromJson=Yb;c.toJson=Zb;c.forEach=ja;c.extend=m;c.equals=Qa;c.identity=w;c.noop=R;c.createProxyFunctions=F;c.inherit=ta;c.inArray=U;c._inArray=Db;c.removeFrom=P;c._removeFrom=Eb;c.pushTo=$b;c._pushTo=Ia;c.deregAll=ac;c.defaults=da;c.mergeR=Ra;c.ancestors=Fb;c.pick=wa;c.omit=xa;c.pluck=Ac;c.filter=Ja;c.find=
ea;c.mapObj=nb;c.map=S;c.values=aa;c.allTrueR=ob;c.anyTrueR=pb;c.unnestR=C;c.flattenR=qb;c.pushR=Ka;c.uniqR=Ca;c.unnest=rb;c.flatten=$c;c.assertPredicate=na;c.assertMap=na;c.assertFn=na;c.pairs=ad;c.arrayTuples=oa;c.applyPairs=ya;c.tail=L;c.copy=Gb;c._extend=Hb;c.silenceUncaughtInPromise=sb;c.silentRejection=Sa;c.notImplemented=Xb;c.services=p;c.Glob=Ma;c.curry=l;c.compose=t;c.pipe=k;c.prop=x;c.propEq=ka;c.parse=Q;c.not=ca;c.and=T;c.or=Ga;c.all=za;c.any=Jb;c.is=I;c.eq=Yc;c.val=D;c.invoke=Ha;c.pattern=
Y;c.isUndefined=pa;c.isDefined=q;c.isNull=kb;c.isNullOrUndefined=lb;c.isFunction=u;c.isNumber=Kb;c.isString=r;c.isObject=O;c.isArray=v;c.isDate=Za;c.isRegExp=$a;c.isState=Wb;c.isInjectable=H;c.isPromise=va;c.Queue=Ta;c.maxLength=sa;c.padString=Mb;c.kebobString=bb;c.functionToString=cb;c.fnToString=db;c.stringify=M;c.beforeAfterSubstr=Wa;c.hostRegex=dd;c.stripLastPathElement=wb;c.splitHash=fb;c.splitQuery=gb;c.splitEqual=fc;c.trimHashVal=gc;c.splitOnDelim=Nb;c.joinNeighborsR=Ob;c.Trace=bc;c.trace=
B;c.Param=W;c.ParamTypes=xb;c.StateParams=hc;c.ParamType=Ua;c.PathNode=Va;c.PathUtils=X;c.resolvePolicies=vb;c.defaultResolvePolicy=ub;c.Resolvable=y;c.NATIVE_INJECTOR_TOKEN="Native Injector";c.ResolveContext=V;c.resolvablesBuilder=Pb;c.StateBuilder=ic;c.StateObject=ib;c.StateMatcher=jc;c.StateQueueManager=kc;c.StateRegistry=lc;c.StateService=qc;c.TargetState=Z;c.HookBuilder=cc;c.matchState=La;c.RegisteredHook=Lb;c.makeEvent=ab;c.Rejection=J;c.Transition=Aa;c.TransitionHook=N;c.TransitionEventType=
rc;c.defaultTransOpts=zb;c.TransitionService=pc;c.UrlMatcher=ra;c.UrlMatcherFactory=mc;c.UrlRouter=nc;c.UrlRuleFactory=yb;c.BaseUrlRule=Ea;c.UrlService=Xa;c.ViewService=hb;c.UIRouterGlobals=oc;c.UIRouter=eb;c.$q=Pa;c.$injector=Ba;c.BaseLocationServices=Ya;c.HashLocationService=vc;c.MemoryLocationService=wc;c.PushStateLocationService=xc;c.MemoryLocationConfig=yc;c.BrowserLocationConfig=Ab;c.keyValsToObjectR=sc;c.getParams=tc;c.parseUrl=Na;c.buildUrl=uc;c.locationPluginFactory=Oa;c.servicesPlugin=Gc;
c.hashLocationPlugin=jd;c.pushStateLocationPlugin=kd;c.memoryLocationPlugin=ld;c.UIRouterPluginBase=md;Object.defineProperty(c,"__esModule",{value:!0})});
